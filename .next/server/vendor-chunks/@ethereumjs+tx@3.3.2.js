"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@ethereumjs+tx@3.3.2";
exports.ids = ["vendor-chunks/@ethereumjs+tx@3.3.2"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/baseTransaction.js":
/*!*****************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/baseTransaction.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BaseTransaction = void 0;\nconst common_1 = __importStar(__webpack_require__(/*! @ethereumjs/common */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+common@2.6.5/node_modules/@ethereumjs/common/dist/index.js\"));\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\");\n/**\n * This base class will likely be subject to further\n * refactoring along the introduction of additional tx types\n * on the Ethereum network.\n *\n * It is therefore not recommended to use directly.\n */\nclass BaseTransaction {\n    constructor(txData) {\n        this.cache = {\n            hash: undefined,\n        };\n        /**\n         * List of tx type defining EIPs,\n         * e.g. 1559 (fee market) and 2930 (access lists)\n         * for FeeMarketEIP1559Transaction objects\n         */\n        this.activeCapabilities = [];\n        /**\n         * The default chain the tx falls back to if no Common\n         * is provided and if the chain can't be derived from\n         * a passed in chainId (only EIP-2718 typed txs) or\n         * EIP-155 signature (legacy txs).\n         *\n         * @hidden\n         */\n        this.DEFAULT_CHAIN = common_1.Chain.Mainnet;\n        /**\n         * The default HF if the tx type is active on that HF\n         * or the first greater HF where the tx is active.\n         *\n         * @hidden\n         */\n        this.DEFAULT_HARDFORK = common_1.Hardfork.Istanbul;\n        const { nonce, gasLimit, to, value, data, v, r, s, type } = txData;\n        this._type = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(type)).toNumber();\n        const toB = (0, ethereumjs_util_1.toBuffer)(to === '' ? '0x' : to);\n        const vB = (0, ethereumjs_util_1.toBuffer)(v === '' ? '0x' : v);\n        const rB = (0, ethereumjs_util_1.toBuffer)(r === '' ? '0x' : r);\n        const sB = (0, ethereumjs_util_1.toBuffer)(s === '' ? '0x' : s);\n        this.nonce = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(nonce === '' ? '0x' : nonce));\n        this.gasLimit = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(gasLimit === '' ? '0x' : gasLimit));\n        this.to = toB.length > 0 ? new ethereumjs_util_1.Address(toB) : undefined;\n        this.value = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(value === '' ? '0x' : value));\n        this.data = (0, ethereumjs_util_1.toBuffer)(data === '' ? '0x' : data);\n        this.v = vB.length > 0 ? new ethereumjs_util_1.BN(vB) : undefined;\n        this.r = rB.length > 0 ? new ethereumjs_util_1.BN(rB) : undefined;\n        this.s = sB.length > 0 ? new ethereumjs_util_1.BN(sB) : undefined;\n        this._validateCannotExceedMaxInteger({\n            nonce: this.nonce,\n            gasLimit: this.gasLimit,\n            value: this.value,\n            r: this.r,\n            s: this.s,\n        });\n    }\n    /**\n     * Alias for {@link BaseTransaction.type}\n     *\n     * @deprecated Use `type` instead\n     */\n    get transactionType() {\n        return this.type;\n    }\n    /**\n     * Returns the transaction type.\n     *\n     * Note: legacy txs will return tx type `0`.\n     */\n    get type() {\n        return this._type;\n    }\n    /**\n     * Checks if a tx type defining capability is active\n     * on a tx, for example the EIP-1559 fee market mechanism\n     * or the EIP-2930 access list feature.\n     *\n     * Note that this is different from the tx type itself,\n     * so EIP-2930 access lists can very well be active\n     * on an EIP-1559 tx for example.\n     *\n     * This method can be useful for feature checks if the\n     * tx type is unknown (e.g. when instantiated with\n     * the tx factory).\n     *\n     * See `Capabilites` in the `types` module for a reference\n     * on all supported capabilities.\n     */\n    supports(capability) {\n        return this.activeCapabilities.includes(capability);\n    }\n    validate(stringError = false) {\n        const errors = [];\n        if (this.getBaseFee().gt(this.gasLimit)) {\n            errors.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`);\n        }\n        if (this.isSigned() && !this.verifySignature()) {\n            errors.push('Invalid Signature');\n        }\n        return stringError ? errors : errors.length === 0;\n    }\n    /**\n     * The minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)\n     */\n    getBaseFee() {\n        const fee = this.getDataFee().addn(this.common.param('gasPrices', 'tx'));\n        if (this.common.gteHardfork('homestead') && this.toCreationAddress()) {\n            fee.iaddn(this.common.param('gasPrices', 'txCreation'));\n        }\n        return fee;\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        const txDataZero = this.common.param('gasPrices', 'txDataZero');\n        const txDataNonZero = this.common.param('gasPrices', 'txDataNonZero');\n        let cost = 0;\n        for (let i = 0; i < this.data.length; i++) {\n            this.data[i] === 0 ? (cost += txDataZero) : (cost += txDataNonZero);\n        }\n        return new ethereumjs_util_1.BN(cost);\n    }\n    /**\n     * If the tx's `to` is to the creation address\n     */\n    toCreationAddress() {\n        return this.to === undefined || this.to.buf.length === 0;\n    }\n    isSigned() {\n        const { v, r, s } = this;\n        if (this.type === 0) {\n            if (!v || !r || !s) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n        else {\n            if (v === undefined || !r || !s) {\n                return false;\n            }\n            else {\n                return true;\n            }\n        }\n    }\n    /**\n     * Determines if the signature is valid\n     */\n    verifySignature() {\n        try {\n            // Main signature verification is done in `getSenderPublicKey()`\n            const publicKey = this.getSenderPublicKey();\n            return (0, ethereumjs_util_1.unpadBuffer)(publicKey).length !== 0;\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    /**\n     * Returns the sender's address\n     */\n    getSenderAddress() {\n        return new ethereumjs_util_1.Address((0, ethereumjs_util_1.publicToAddress)(this.getSenderPublicKey()));\n    }\n    /**\n     * Signs a transaction.\n     *\n     * Note that the signed tx is returned as a new object,\n     * use as follows:\n     * ```javascript\n     * const signedTx = tx.sign(privateKey)\n     * ```\n     */\n    sign(privateKey) {\n        if (privateKey.length !== 32) {\n            throw new Error('Private key must be 32 bytes in length.');\n        }\n        // Hack for the constellation that we have got a legacy tx after spuriousDragon with a non-EIP155 conforming signature\n        // and want to recreate a signature (where EIP155 should be applied)\n        // Leaving this hack lets the legacy.spec.ts -> sign(), verifySignature() test fail\n        // 2021-06-23\n        let hackApplied = false;\n        if (this.type === 0 &&\n            this.common.gteHardfork('spuriousDragon') &&\n            !this.supports(types_1.Capability.EIP155ReplayProtection)) {\n            this.activeCapabilities.push(types_1.Capability.EIP155ReplayProtection);\n            hackApplied = true;\n        }\n        const msgHash = this.getMessageToSign(true);\n        const { v, r, s } = (0, ethereumjs_util_1.ecsign)(msgHash, privateKey);\n        const tx = this._processSignature(v, r, s);\n        // Hack part 2\n        if (hackApplied) {\n            const index = this.activeCapabilities.indexOf(types_1.Capability.EIP155ReplayProtection);\n            if (index > -1) {\n                this.activeCapabilities.splice(index, 1);\n            }\n        }\n        return tx;\n    }\n    /**\n     * Does chain ID checks on common and returns a common\n     * to be used on instantiation\n     * @hidden\n     *\n     * @param common - {@link Common} instance from tx options\n     * @param chainId - Chain ID from tx options (typed txs) or signature (legacy tx)\n     */\n    _getCommon(common, chainId) {\n        var _a;\n        // Chain ID provided\n        if (chainId) {\n            const chainIdBN = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(chainId));\n            if (common) {\n                if (!common.chainIdBN().eq(chainIdBN)) {\n                    throw new Error('The chain ID does not match the chain ID of Common');\n                }\n                // Common provided, chain ID does match\n                // -> Return provided Common\n                return common.copy();\n            }\n            else {\n                if (common_1.default.isSupportedChainId(chainIdBN)) {\n                    // No Common, chain ID supported by Common\n                    // -> Instantiate Common with chain ID\n                    return new common_1.default({ chain: chainIdBN, hardfork: this.DEFAULT_HARDFORK });\n                }\n                else {\n                    // No Common, chain ID not supported by Common\n                    // -> Instantiate custom Common derived from DEFAULT_CHAIN\n                    return common_1.default.forCustomChain(this.DEFAULT_CHAIN, {\n                        name: 'custom-chain',\n                        networkId: chainIdBN,\n                        chainId: chainIdBN,\n                    }, this.DEFAULT_HARDFORK);\n                }\n            }\n        }\n        else {\n            // No chain ID provided\n            // -> return Common provided or create new default Common\n            return ((_a = common === null || common === void 0 ? void 0 : common.copy()) !== null && _a !== void 0 ? _a : new common_1.default({ chain: this.DEFAULT_CHAIN, hardfork: this.DEFAULT_HARDFORK }));\n        }\n    }\n    _validateCannotExceedMaxInteger(values, bits = 53) {\n        for (const [key, value] of Object.entries(values)) {\n            if (bits === 53) {\n                if (value === null || value === void 0 ? void 0 : value.gt(ethereumjs_util_1.MAX_INTEGER)) {\n                    throw new Error(`${key} cannot exceed MAX_INTEGER, given ${value}`);\n                }\n            }\n            else if (bits === 256) {\n                if (value === null || value === void 0 ? void 0 : value.gte(ethereumjs_util_1.TWO_POW256)) {\n                    throw new Error(`${key} must be less than 2^256, given ${value}`);\n                }\n            }\n            else {\n                throw new Error('unimplemented bits value');\n            }\n        }\n    }\n}\nexports.BaseTransaction = BaseTransaction;\n//# sourceMappingURL=baseTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvYmFzZVRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLG1DQUFtQyxvQ0FBb0MsZ0JBQWdCO0FBQ3ZGLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUJBQXVCO0FBQ3ZCLDhCQUE4QixtQkFBTyxDQUFDLDZIQUFvQjtBQUMxRCwwQkFBMEIsbUJBQU8sQ0FBQyxvSEFBaUI7QUFDbkQsZ0JBQWdCLG1CQUFPLENBQUMsMEdBQVM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isa0RBQWtEO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELGNBQWMsa0JBQWtCLGtCQUFrQjtBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLFVBQVU7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxtREFBbUQ7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpSkFBaUosNERBQTREO0FBQzdNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxLQUFLLG1DQUFtQyxNQUFNO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLEtBQUssaUNBQWlDLE1BQU07QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2tpY2tzdGFydC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEAzLjMuMi9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC9iYXNlVHJhbnNhY3Rpb24uanM/NDRhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBvW2syXSA9IG1ba107XG59KSk7XG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59KTtcbnZhciBfX2ltcG9ydFN0YXIgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0U3RhcikgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5CYXNlVHJhbnNhY3Rpb24gPSB2b2lkIDA7XG5jb25zdCBjb21tb25fMSA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwiQGV0aGVyZXVtanMvY29tbW9uXCIpKTtcbmNvbnN0IGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbi8qKlxuICogVGhpcyBiYXNlIGNsYXNzIHdpbGwgbGlrZWx5IGJlIHN1YmplY3QgdG8gZnVydGhlclxuICogcmVmYWN0b3JpbmcgYWxvbmcgdGhlIGludHJvZHVjdGlvbiBvZiBhZGRpdGlvbmFsIHR4IHR5cGVzXG4gKiBvbiB0aGUgRXRoZXJldW0gbmV0d29yay5cbiAqXG4gKiBJdCBpcyB0aGVyZWZvcmUgbm90IHJlY29tbWVuZGVkIHRvIHVzZSBkaXJlY3RseS5cbiAqL1xuY2xhc3MgQmFzZVRyYW5zYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcih0eERhdGEpIHtcbiAgICAgICAgdGhpcy5jYWNoZSA9IHtcbiAgICAgICAgICAgIGhhc2g6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgdHggdHlwZSBkZWZpbmluZyBFSVBzLFxuICAgICAgICAgKiBlLmcuIDE1NTkgKGZlZSBtYXJrZXQpIGFuZCAyOTMwIChhY2Nlc3MgbGlzdHMpXG4gICAgICAgICAqIGZvciBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24gb2JqZWN0c1xuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMgPSBbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IGNoYWluIHRoZSB0eCBmYWxscyBiYWNrIHRvIGlmIG5vIENvbW1vblxuICAgICAgICAgKiBpcyBwcm92aWRlZCBhbmQgaWYgdGhlIGNoYWluIGNhbid0IGJlIGRlcml2ZWQgZnJvbVxuICAgICAgICAgKiBhIHBhc3NlZCBpbiBjaGFpbklkIChvbmx5IEVJUC0yNzE4IHR5cGVkIHR4cykgb3JcbiAgICAgICAgICogRUlQLTE1NSBzaWduYXR1cmUgKGxlZ2FjeSB0eHMpLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAaGlkZGVuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkRFRkFVTFRfQ0hBSU4gPSBjb21tb25fMS5DaGFpbi5NYWlubmV0O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgSEYgaWYgdGhlIHR4IHR5cGUgaXMgYWN0aXZlIG9uIHRoYXQgSEZcbiAgICAgICAgICogb3IgdGhlIGZpcnN0IGdyZWF0ZXIgSEYgd2hlcmUgdGhlIHR4IGlzIGFjdGl2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGhpZGRlblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ERUZBVUxUX0hBUkRGT1JLID0gY29tbW9uXzEuSGFyZGZvcmsuSXN0YW5idWw7XG4gICAgICAgIGNvbnN0IHsgbm9uY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHMsIHR5cGUgfSA9IHR4RGF0YTtcbiAgICAgICAgdGhpcy5fdHlwZSA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHR5cGUpKS50b051bWJlcigpO1xuICAgICAgICBjb25zdCB0b0IgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHRvID09PSAnJyA/ICcweCcgOiB0byk7XG4gICAgICAgIGNvbnN0IHZCID0gKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKSh2ID09PSAnJyA/ICcweCcgOiB2KTtcbiAgICAgICAgY29uc3QgckIgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKHIgPT09ICcnID8gJzB4JyA6IHIpO1xuICAgICAgICBjb25zdCBzQiA9ICgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikocyA9PT0gJycgPyAnMHgnIDogcyk7XG4gICAgICAgIHRoaXMubm9uY2UgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKShub25jZSA9PT0gJycgPyAnMHgnIDogbm9uY2UpKTtcbiAgICAgICAgdGhpcy5nYXNMaW1pdCA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKGdhc0xpbWl0ID09PSAnJyA/ICcweCcgOiBnYXNMaW1pdCkpO1xuICAgICAgICB0aGlzLnRvID0gdG9CLmxlbmd0aCA+IDAgPyBuZXcgZXRoZXJldW1qc191dGlsXzEuQWRkcmVzcyh0b0IpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhbHVlID0gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikodmFsdWUgPT09ICcnID8gJzB4JyA6IHZhbHVlKSk7XG4gICAgICAgIHRoaXMuZGF0YSA9ICgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikoZGF0YSA9PT0gJycgPyAnMHgnIDogZGF0YSk7XG4gICAgICAgIHRoaXMudiA9IHZCLmxlbmd0aCA+IDAgPyBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4odkIpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnIgPSByQi5sZW5ndGggPiAwID8gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHJCKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zID0gc0IubGVuZ3RoID4gMCA/IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihzQikgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3ZhbGlkYXRlQ2Fubm90RXhjZWVkTWF4SW50ZWdlcih7XG4gICAgICAgICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgICAgICAgIGdhc0xpbWl0OiB0aGlzLmdhc0xpbWl0LFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICByOiB0aGlzLnIsXG4gICAgICAgICAgICBzOiB0aGlzLnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbGlhcyBmb3Ige0BsaW5rIEJhc2VUcmFuc2FjdGlvbi50eXBlfVxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVXNlIGB0eXBlYCBpbnN0ZWFkXG4gICAgICovXG4gICAgZ2V0IHRyYW5zYWN0aW9uVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdHJhbnNhY3Rpb24gdHlwZS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGxlZ2FjeSB0eHMgd2lsbCByZXR1cm4gdHggdHlwZSBgMGAuXG4gICAgICovXG4gICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSB0eCB0eXBlIGRlZmluaW5nIGNhcGFiaWxpdHkgaXMgYWN0aXZlXG4gICAgICogb24gYSB0eCwgZm9yIGV4YW1wbGUgdGhlIEVJUC0xNTU5IGZlZSBtYXJrZXQgbWVjaGFuaXNtXG4gICAgICogb3IgdGhlIEVJUC0yOTMwIGFjY2VzcyBsaXN0IGZlYXR1cmUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBpcyBkaWZmZXJlbnQgZnJvbSB0aGUgdHggdHlwZSBpdHNlbGYsXG4gICAgICogc28gRUlQLTI5MzAgYWNjZXNzIGxpc3RzIGNhbiB2ZXJ5IHdlbGwgYmUgYWN0aXZlXG4gICAgICogb24gYW4gRUlQLTE1NTkgdHggZm9yIGV4YW1wbGUuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZnVsIGZvciBmZWF0dXJlIGNoZWNrcyBpZiB0aGVcbiAgICAgKiB0eCB0eXBlIGlzIHVua25vd24gKGUuZy4gd2hlbiBpbnN0YW50aWF0ZWQgd2l0aFxuICAgICAqIHRoZSB0eCBmYWN0b3J5KS5cbiAgICAgKlxuICAgICAqIFNlZSBgQ2FwYWJpbGl0ZXNgIGluIHRoZSBgdHlwZXNgIG1vZHVsZSBmb3IgYSByZWZlcmVuY2VcbiAgICAgKiBvbiBhbGwgc3VwcG9ydGVkIGNhcGFiaWxpdGllcy5cbiAgICAgKi9cbiAgICBzdXBwb3J0cyhjYXBhYmlsaXR5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5pbmNsdWRlcyhjYXBhYmlsaXR5KTtcbiAgICB9XG4gICAgdmFsaWRhdGUoc3RyaW5nRXJyb3IgPSBmYWxzZSkge1xuICAgICAgICBjb25zdCBlcnJvcnMgPSBbXTtcbiAgICAgICAgaWYgKHRoaXMuZ2V0QmFzZUZlZSgpLmd0KHRoaXMuZ2FzTGltaXQpKSB7XG4gICAgICAgICAgICBlcnJvcnMucHVzaChgZ2FzTGltaXQgaXMgdG9vIGxvdy4gZ2l2ZW4gJHt0aGlzLmdhc0xpbWl0fSwgbmVlZCBhdCBsZWFzdCAke3RoaXMuZ2V0QmFzZUZlZSgpfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzU2lnbmVkKCkgJiYgIXRoaXMudmVyaWZ5U2lnbmF0dXJlKCkpIHtcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKCdJbnZhbGlkIFNpZ25hdHVyZScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHJpbmdFcnJvciA/IGVycm9ycyA6IGVycm9ycy5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtaW5pbXVtIGFtb3VudCBvZiBnYXMgdGhlIHR4IG11c3QgaGF2ZSAoRGF0YUZlZSArIFR4RmVlICsgQ3JlYXRpb24gRmVlKVxuICAgICAqL1xuICAgIGdldEJhc2VGZWUoKSB7XG4gICAgICAgIGNvbnN0IGZlZSA9IHRoaXMuZ2V0RGF0YUZlZSgpLmFkZG4odGhpcy5jb21tb24ucGFyYW0oJ2dhc1ByaWNlcycsICd0eCcpKTtcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiB0aGlzLnRvQ3JlYXRpb25BZGRyZXNzKCkpIHtcbiAgICAgICAgICAgIGZlZS5pYWRkbih0aGlzLmNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ3R4Q3JlYXRpb24nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZlZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGFtb3VudCBvZiBnYXMgcGFpZCBmb3IgdGhlIGRhdGEgaW4gdGhpcyB0eFxuICAgICAqL1xuICAgIGdldERhdGFGZWUoKSB7XG4gICAgICAgIGNvbnN0IHR4RGF0YVplcm8gPSB0aGlzLmNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ3R4RGF0YVplcm8nKTtcbiAgICAgICAgY29uc3QgdHhEYXRhTm9uWmVybyA9IHRoaXMuY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAndHhEYXRhTm9uWmVybycpO1xuICAgICAgICBsZXQgY29zdCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFbaV0gPT09IDAgPyAoY29zdCArPSB0eERhdGFaZXJvKSA6IChjb3N0ICs9IHR4RGF0YU5vblplcm8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oY29zdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIElmIHRoZSB0eCdzIGB0b2AgaXMgdG8gdGhlIGNyZWF0aW9uIGFkZHJlc3NcbiAgICAgKi9cbiAgICB0b0NyZWF0aW9uQWRkcmVzcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG8gPT09IHVuZGVmaW5lZCB8fCB0aGlzLnRvLmJ1Zi5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGlzU2lnbmVkKCkge1xuICAgICAgICBjb25zdCB7IHYsIHIsIHMgfSA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IDApIHtcbiAgICAgICAgICAgIGlmICghdiB8fCAhciB8fCAhcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCAhciB8fCAhcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgdGhlIHNpZ25hdHVyZSBpcyB2YWxpZFxuICAgICAqL1xuICAgIHZlcmlmeVNpZ25hdHVyZSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIE1haW4gc2lnbmF0dXJlIHZlcmlmaWNhdGlvbiBpcyBkb25lIGluIGBnZXRTZW5kZXJQdWJsaWNLZXkoKWBcbiAgICAgICAgICAgIGNvbnN0IHB1YmxpY0tleSA9IHRoaXMuZ2V0U2VuZGVyUHVibGljS2V5KCk7XG4gICAgICAgICAgICByZXR1cm4gKDAsIGV0aGVyZXVtanNfdXRpbF8xLnVucGFkQnVmZmVyKShwdWJsaWNLZXkpLmxlbmd0aCAhPT0gMDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlbmRlcidzIGFkZHJlc3NcbiAgICAgKi9cbiAgICBnZXRTZW5kZXJBZGRyZXNzKCkge1xuICAgICAgICByZXR1cm4gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkFkZHJlc3MoKDAsIGV0aGVyZXVtanNfdXRpbF8xLnB1YmxpY1RvQWRkcmVzcykodGhpcy5nZXRTZW5kZXJQdWJsaWNLZXkoKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaWducyBhIHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBzaWduZWQgdHggaXMgcmV0dXJuZWQgYXMgYSBuZXcgb2JqZWN0LFxuICAgICAqIHVzZSBhcyBmb2xsb3dzOlxuICAgICAqIGBgYGphdmFzY3JpcHRcbiAgICAgKiBjb25zdCBzaWduZWRUeCA9IHR4LnNpZ24ocHJpdmF0ZUtleSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBzaWduKHByaXZhdGVLZXkpIHtcbiAgICAgICAgaWYgKHByaXZhdGVLZXkubGVuZ3RoICE9PSAzMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcml2YXRlIGtleSBtdXN0IGJlIDMyIGJ5dGVzIGluIGxlbmd0aC4nKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBIYWNrIGZvciB0aGUgY29uc3RlbGxhdGlvbiB0aGF0IHdlIGhhdmUgZ290IGEgbGVnYWN5IHR4IGFmdGVyIHNwdXJpb3VzRHJhZ29uIHdpdGggYSBub24tRUlQMTU1IGNvbmZvcm1pbmcgc2lnbmF0dXJlXG4gICAgICAgIC8vIGFuZCB3YW50IHRvIHJlY3JlYXRlIGEgc2lnbmF0dXJlICh3aGVyZSBFSVAxNTUgc2hvdWxkIGJlIGFwcGxpZWQpXG4gICAgICAgIC8vIExlYXZpbmcgdGhpcyBoYWNrIGxldHMgdGhlIGxlZ2FjeS5zcGVjLnRzIC0+IHNpZ24oKSwgdmVyaWZ5U2lnbmF0dXJlKCkgdGVzdCBmYWlsXG4gICAgICAgIC8vIDIwMjEtMDYtMjNcbiAgICAgICAgbGV0IGhhY2tBcHBsaWVkID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLnR5cGUgPT09IDAgJiZcbiAgICAgICAgICAgIHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdzcHVyaW91c0RyYWdvbicpICYmXG4gICAgICAgICAgICAhdGhpcy5zdXBwb3J0cyh0eXBlc18xLkNhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLnB1c2godHlwZXNfMS5DYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgaGFja0FwcGxpZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1zZ0hhc2ggPSB0aGlzLmdldE1lc3NhZ2VUb1NpZ24odHJ1ZSk7XG4gICAgICAgIGNvbnN0IHsgdiwgciwgcyB9ID0gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmVjc2lnbikobXNnSGFzaCwgcHJpdmF0ZUtleSk7XG4gICAgICAgIGNvbnN0IHR4ID0gdGhpcy5fcHJvY2Vzc1NpZ25hdHVyZSh2LCByLCBzKTtcbiAgICAgICAgLy8gSGFjayBwYXJ0IDJcbiAgICAgICAgaWYgKGhhY2tBcHBsaWVkKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLmluZGV4T2YodHlwZXNfMS5DYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRG9lcyBjaGFpbiBJRCBjaGVja3Mgb24gY29tbW9uIGFuZCByZXR1cm5zIGEgY29tbW9uXG4gICAgICogdG8gYmUgdXNlZCBvbiBpbnN0YW50aWF0aW9uXG4gICAgICogQGhpZGRlblxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbW1vbiAtIHtAbGluayBDb21tb259IGluc3RhbmNlIGZyb20gdHggb3B0aW9uc1xuICAgICAqIEBwYXJhbSBjaGFpbklkIC0gQ2hhaW4gSUQgZnJvbSB0eCBvcHRpb25zICh0eXBlZCB0eHMpIG9yIHNpZ25hdHVyZSAobGVnYWN5IHR4KVxuICAgICAqL1xuICAgIF9nZXRDb21tb24oY29tbW9uLCBjaGFpbklkKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gQ2hhaW4gSUQgcHJvdmlkZWRcbiAgICAgICAgaWYgKGNoYWluSWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYWluSWRCTiA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKGNoYWluSWQpKTtcbiAgICAgICAgICAgIGlmIChjb21tb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbW1vbi5jaGFpbklkQk4oKS5lcShjaGFpbklkQk4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIGNoYWluIElEIGRvZXMgbm90IG1hdGNoIHRoZSBjaGFpbiBJRCBvZiBDb21tb24nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQ29tbW9uIHByb3ZpZGVkLCBjaGFpbiBJRCBkb2VzIG1hdGNoXG4gICAgICAgICAgICAgICAgLy8gLT4gUmV0dXJuIHByb3ZpZGVkIENvbW1vblxuICAgICAgICAgICAgICAgIHJldHVybiBjb21tb24uY29weSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbW1vbl8xLmRlZmF1bHQuaXNTdXBwb3J0ZWRDaGFpbklkKGNoYWluSWRCTikpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gQ29tbW9uLCBjaGFpbiBJRCBzdXBwb3J0ZWQgYnkgQ29tbW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC0+IEluc3RhbnRpYXRlIENvbW1vbiB3aXRoIGNoYWluIElEXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgY29tbW9uXzEuZGVmYXVsdCh7IGNoYWluOiBjaGFpbklkQk4sIGhhcmRmb3JrOiB0aGlzLkRFRkFVTFRfSEFSREZPUksgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBObyBDb21tb24sIGNoYWluIElEIG5vdCBzdXBwb3J0ZWQgYnkgQ29tbW9uXG4gICAgICAgICAgICAgICAgICAgIC8vIC0+IEluc3RhbnRpYXRlIGN1c3RvbSBDb21tb24gZGVyaXZlZCBmcm9tIERFRkFVTFRfQ0hBSU5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1vbl8xLmRlZmF1bHQuZm9yQ3VzdG9tQ2hhaW4odGhpcy5ERUZBVUxUX0NIQUlOLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3VzdG9tLWNoYWluJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtJZDogY2hhaW5JZEJOLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhaW5JZDogY2hhaW5JZEJOLFxuICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLkRFRkFVTFRfSEFSREZPUkspO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIE5vIGNoYWluIElEIHByb3ZpZGVkXG4gICAgICAgICAgICAvLyAtPiByZXR1cm4gQ29tbW9uIHByb3ZpZGVkIG9yIGNyZWF0ZSBuZXcgZGVmYXVsdCBDb21tb25cbiAgICAgICAgICAgIHJldHVybiAoKF9hID0gY29tbW9uID09PSBudWxsIHx8IGNvbW1vbiA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29tbW9uLmNvcHkoKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbmV3IGNvbW1vbl8xLmRlZmF1bHQoeyBjaGFpbjogdGhpcy5ERUZBVUxUX0NIQUlOLCBoYXJkZm9yazogdGhpcy5ERUZBVUxUX0hBUkRGT1JLIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHZhbHVlcywgYml0cyA9IDUzKSB7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHZhbHVlcykpIHtcbiAgICAgICAgICAgIGlmIChiaXRzID09PSA1Mykge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUuZ3QoZXRoZXJldW1qc191dGlsXzEuTUFYX0lOVEVHRVIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtrZXl9IGNhbm5vdCBleGNlZWQgTUFYX0lOVEVHRVIsIGdpdmVuICR7dmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYml0cyA9PT0gMjU2KSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB2b2lkIDAgPyB2b2lkIDAgOiB2YWx1ZS5ndGUoZXRoZXJldW1qc191dGlsXzEuVFdPX1BPVzI1NikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2tleX0gbXVzdCBiZSBsZXNzIHRoYW4gMl4yNTYsIGdpdmVuICR7dmFsdWV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bmltcGxlbWVudGVkIGJpdHMgdmFsdWUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuQmFzZVRyYW5zYWN0aW9uID0gQmFzZVRyYW5zYWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZVRyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/baseTransaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip1559Transaction.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip1559Transaction.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\nconst baseTransaction_1 = __webpack_require__(/*! ./baseTransaction */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/baseTransaction.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/util.js\");\nconst TRANSACTION_TYPE = 2;\nconst TRANSACTION_TYPE_BUFFER = Buffer.from(TRANSACTION_TYPE.toString(16).padStart(2, '0'), 'hex');\n/**\n * Typed transaction with a new gas fee market mechanism\n *\n * - TransactionType: 2\n * - EIP: [EIP-1559](https://eips.ethereum.org/EIPS/eip-1559)\n */\nclass FeeMarketEIP1559Transaction extends baseTransaction_1.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        var _a, _b;\n        super(Object.assign(Object.assign({}, txData), { type: TRANSACTION_TYPE }));\n        /**\n         * The default HF if the tx type is active on that HF\n         * or the first greater HF where the tx is active.\n         *\n         * @hidden\n         */\n        this.DEFAULT_HARDFORK = 'london';\n        const { chainId, accessList, maxFeePerGas, maxPriorityFeePerGas } = txData;\n        this.common = this._getCommon(opts.common, chainId);\n        this.chainId = this.common.chainIdBN();\n        if (!this.common.isActivatedEIP(1559)) {\n            throw new Error('EIP-1559 not enabled on Common');\n        }\n        this.activeCapabilities = this.activeCapabilities.concat([1559, 2718, 2930]);\n        // Populate the access list fields\n        const accessListData = util_1.AccessLists.getAccessListData(accessList !== null && accessList !== void 0 ? accessList : []);\n        this.accessList = accessListData.accessList;\n        this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        util_1.AccessLists.verifyAccessList(this.accessList);\n        this.maxFeePerGas = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(maxFeePerGas === '' ? '0x' : maxFeePerGas));\n        this.maxPriorityFeePerGas = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(maxPriorityFeePerGas === '' ? '0x' : maxPriorityFeePerGas));\n        this._validateCannotExceedMaxInteger({\n            maxFeePerGas: this.maxFeePerGas,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n        }, 256);\n        if (this.maxFeePerGas.lt(this.maxPriorityFeePerGas)) {\n            throw new Error('maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)');\n        }\n        if (this.v && !this.v.eqn(0) && !this.v.eqn(1)) {\n            throw new Error('The y-parity of the transaction should either be 0 or 1');\n        }\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            throw new Error('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n        }\n        const freeze = (_b = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _b !== void 0 ? _b : true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * EIP-2930 alias for `r`\n     *\n     * @deprecated use `r` instead\n     */\n    get senderR() {\n        return this.r;\n    }\n    /**\n     * EIP-2930 alias for `s`\n     *\n     * @deprecated use `s` instead\n     */\n    get senderS() {\n        return this.s;\n    }\n    /**\n     * EIP-2930 alias for `v`\n     *\n     * @deprecated use `v` instead\n     */\n    get yParity() {\n        return this.v;\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new FeeMarketEIP1559Transaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        if (!serialized.slice(0, 1).equals(TRANSACTION_TYPE_BUFFER)) {\n            throw new Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: ${TRANSACTION_TYPE}, received: ${serialized\n                .slice(0, 1)\n                .toString('hex')}`);\n        }\n        const values = ethereumjs_util_1.rlp.decode(serialized.slice(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return FeeMarketEIP1559Transaction.fromValuesArray(values, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     * (alias of {@link FeeMarketEIP1559Transaction.fromSerializedTx})\n     *\n     * Note: This means that the Buffer should start with 0x01.\n     *\n     * @deprecated this constructor alias is deprecated and will be removed\n     * in favor of the {@link FeeMarketEIP1559Transaction.fromSerializedTx} constructor\n     */\n    static fromRlpSerializedTx(serialized, opts = {}) {\n        return FeeMarketEIP1559Transaction.fromSerializedTx(serialized, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        if (values.length !== 9 && values.length !== 12) {\n            throw new Error('Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).');\n        }\n        const [chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data, accessList, v, r, s,] = values;\n        return new FeeMarketEIP1559Transaction({\n            chainId: new ethereumjs_util_1.BN(chainId),\n            nonce,\n            maxPriorityFeePerGas,\n            maxFeePerGas,\n            gasLimit,\n            to,\n            value,\n            data,\n            accessList: accessList !== null && accessList !== void 0 ? accessList : [],\n            v: v !== undefined ? new ethereumjs_util_1.BN(v) : undefined,\n            r,\n            s,\n        }, opts);\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        const cost = super.getDataFee();\n        cost.iaddn(util_1.AccessLists.getDataFeeEIP2930(this.accessList, this.common));\n        return cost;\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     * @param baseFee The base fee of the block (will be set to 0 if not provided)\n     */\n    getUpfrontCost(baseFee = new ethereumjs_util_1.BN(0)) {\n        const inclusionFeePerGas = ethereumjs_util_1.BN.min(this.maxPriorityFeePerGas, this.maxFeePerGas.sub(baseFee));\n        const gasPrice = inclusionFeePerGas.add(baseFee);\n        return this.gasLimit.mul(gasPrice).add(this.value);\n    }\n    /**\n     * Returns a Buffer Array of the raw Buffers of the EIP-1559 transaction, in order.\n     *\n     * Format: `[chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS]`\n     *\n     * Use {@link FeeMarketEIP1559Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Buffer values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link FeeMarketEIP1559Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.chainId),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.maxPriorityFeePerGas),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.maxFeePerGas),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n            this.accessList,\n            this.v !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.v) : Buffer.from([]),\n            this.r !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.r) : Buffer.from([]),\n            this.s !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.s) : Buffer.from([]),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the EIP-1559 transaction.\n     *\n     * Format: `0x02 || rlp([chainId, nonce, maxPriorityFeePerGas, maxFeePerGas, gasLimit, to, value, data,\n     * accessList, signatureYParity, signatureR, signatureS])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    serialize() {\n        const base = this.raw();\n        return Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n    }\n    /**\n     * Returns the serialized unsigned tx (hashed or raw), which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign(false) // use this for the HW wallet input\n     * ```\n     *\n     * @param hashMessage - Return hashed message if set to true (default: true)\n     */\n    getMessageToSign(hashMessage = true) {\n        const base = this.raw().slice(0, 9);\n        const message = Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n        if (hashMessage) {\n            return (0, ethereumjs_util_1.keccak256)(message);\n        }\n        else {\n            return message;\n        }\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link FeeMarketEIP1559Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        if (!this.isSigned()) {\n            throw new Error('Cannot call hash method if transaction is not signed');\n        }\n        if (Object.isFrozen(this)) {\n            if (!this.cache.hash) {\n                this.cache.hash = (0, ethereumjs_util_1.keccak256)(this.serialize());\n            }\n            return this.cache.hash;\n        }\n        return (0, ethereumjs_util_1.keccak256)(this.serialize());\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        return this.getMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        var _a;\n        if (!this.isSigned()) {\n            throw new Error('Cannot call this method if transaction is not signed');\n        }\n        const msgHash = this.getMessageToVerifySignature();\n        // EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n        // Reasoning: https://ethereum.stackexchange.com/a/55728\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            throw new Error('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n        }\n        const { v, r, s } = this;\n        try {\n            return (0, ethereumjs_util_1.ecrecover)(msgHash, v.addn(27), // Recover the 27 which was stripped from ecsign\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(r), (0, ethereumjs_util_1.bnToUnpaddedBuffer)(s));\n        }\n        catch (e) {\n            throw new Error('Invalid Signature');\n        }\n    }\n    _processSignature(v, r, s) {\n        const opts = {\n            common: this.common,\n        };\n        return FeeMarketEIP1559Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            maxPriorityFeePerGas: this.maxPriorityFeePerGas,\n            maxFeePerGas: this.maxFeePerGas,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: new ethereumjs_util_1.BN(v - 27),\n            r: new ethereumjs_util_1.BN(r),\n            s: new ethereumjs_util_1.BN(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    toJSON() {\n        const accessListJSON = util_1.AccessLists.getAccessListJSON(this.accessList);\n        return {\n            chainId: (0, ethereumjs_util_1.bnToHex)(this.chainId),\n            nonce: (0, ethereumjs_util_1.bnToHex)(this.nonce),\n            maxPriorityFeePerGas: (0, ethereumjs_util_1.bnToHex)(this.maxPriorityFeePerGas),\n            maxFeePerGas: (0, ethereumjs_util_1.bnToHex)(this.maxFeePerGas),\n            gasLimit: (0, ethereumjs_util_1.bnToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0, ethereumjs_util_1.bnToHex)(this.value),\n            data: '0x' + this.data.toString('hex'),\n            accessList: accessListJSON,\n            v: this.v !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.s) : undefined,\n        };\n    }\n}\nexports[\"default\"] = FeeMarketEIP1559Transaction;\n//# sourceMappingURL=eip1559Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZWlwMTU1OVRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLG9IQUFpQjtBQUNuRCwwQkFBMEIsbUJBQU8sQ0FBQyw4SEFBbUI7QUFDckQsZ0JBQWdCLG1CQUFPLENBQUMsMEdBQVM7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHdHQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsNENBQTRDLGFBQWEsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDBEQUEwRDtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQ7QUFDQSxrSEFBa0gsaUJBQWlCLGNBQWM7QUFDako7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1EQUFtRDtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvREFBb0Q7QUFDNUU7QUFDQSxvREFBb0Q7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQTZDO0FBQ3pELGFBQWEsNEJBQTRCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtREFBbUQ7QUFDbkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG9EQUFvRDtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsVUFBVTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raWNrc3RhcnQvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZWlwMTU1OVRyYW5zYWN0aW9uLmpzP2UzOGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBldGhlcmV1bWpzX3V0aWxfMSA9IHJlcXVpcmUoXCJldGhlcmV1bWpzLXV0aWxcIik7XG5jb25zdCBiYXNlVHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2Jhc2VUcmFuc2FjdGlvblwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBUUkFOU0FDVElPTl9UWVBFID0gMjtcbmNvbnN0IFRSQU5TQUNUSU9OX1RZUEVfQlVGRkVSID0gQnVmZmVyLmZyb20oVFJBTlNBQ1RJT05fVFlQRS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSwgJ2hleCcpO1xuLyoqXG4gKiBUeXBlZCB0cmFuc2FjdGlvbiB3aXRoIGEgbmV3IGdhcyBmZWUgbWFya2V0IG1lY2hhbmlzbVxuICpcbiAqIC0gVHJhbnNhY3Rpb25UeXBlOiAyXG4gKiAtIEVJUDogW0VJUC0xNTU5XShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTE1NTkpXG4gKi9cbmNsYXNzIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbiBleHRlbmRzIGJhc2VUcmFuc2FjdGlvbl8xLkJhc2VUcmFuc2FjdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdmFsdWVzLCB2YWxpZGF0ZXMgdGhlbSwgYXNzaWducyB0aGVtIGFuZCBmcmVlemVzIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAgICogdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGEgVHJhbnNhY3Rpb24gb2JqZWN0IGZyb21cbiAgICAgKiB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHhEYXRhLCBvcHRzID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgc3VwZXIoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0eERhdGEpLCB7IHR5cGU6IFRSQU5TQUNUSU9OX1RZUEUgfSkpO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGRlZmF1bHQgSEYgaWYgdGhlIHR4IHR5cGUgaXMgYWN0aXZlIG9uIHRoYXQgSEZcbiAgICAgICAgICogb3IgdGhlIGZpcnN0IGdyZWF0ZXIgSEYgd2hlcmUgdGhlIHR4IGlzIGFjdGl2ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGhpZGRlblxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ERUZBVUxUX0hBUkRGT1JLID0gJ2xvbmRvbic7XG4gICAgICAgIGNvbnN0IHsgY2hhaW5JZCwgYWNjZXNzTGlzdCwgbWF4RmVlUGVyR2FzLCBtYXhQcmlvcml0eUZlZVBlckdhcyB9ID0gdHhEYXRhO1xuICAgICAgICB0aGlzLmNvbW1vbiA9IHRoaXMuX2dldENvbW1vbihvcHRzLmNvbW1vbiwgY2hhaW5JZCk7XG4gICAgICAgIHRoaXMuY2hhaW5JZCA9IHRoaXMuY29tbW9uLmNoYWluSWRCTigpO1xuICAgICAgICBpZiAoIXRoaXMuY29tbW9uLmlzQWN0aXZhdGVkRUlQKDE1NTkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VJUC0xNTU5IG5vdCBlbmFibGVkIG9uIENvbW1vbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzID0gdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMuY29uY2F0KFsxNTU5LCAyNzE4LCAyOTMwXSk7XG4gICAgICAgIC8vIFBvcHVsYXRlIHRoZSBhY2Nlc3MgbGlzdCBmaWVsZHNcbiAgICAgICAgY29uc3QgYWNjZXNzTGlzdERhdGEgPSB1dGlsXzEuQWNjZXNzTGlzdHMuZ2V0QWNjZXNzTGlzdERhdGEoYWNjZXNzTGlzdCAhPT0gbnVsbCAmJiBhY2Nlc3NMaXN0ICE9PSB2b2lkIDAgPyBhY2Nlc3NMaXN0IDogW10pO1xuICAgICAgICB0aGlzLmFjY2Vzc0xpc3QgPSBhY2Nlc3NMaXN0RGF0YS5hY2Nlc3NMaXN0O1xuICAgICAgICB0aGlzLkFjY2Vzc0xpc3RKU09OID0gYWNjZXNzTGlzdERhdGEuQWNjZXNzTGlzdEpTT047XG4gICAgICAgIC8vIFZlcmlmeSB0aGUgYWNjZXNzIGxpc3QgZm9ybWF0LlxuICAgICAgICB1dGlsXzEuQWNjZXNzTGlzdHMudmVyaWZ5QWNjZXNzTGlzdCh0aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICB0aGlzLm1heEZlZVBlckdhcyA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKG1heEZlZVBlckdhcyA9PT0gJycgPyAnMHgnIDogbWF4RmVlUGVyR2FzKSk7XG4gICAgICAgIHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKShtYXhQcmlvcml0eUZlZVBlckdhcyA9PT0gJycgPyAnMHgnIDogbWF4UHJpb3JpdHlGZWVQZXJHYXMpKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHtcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgfSwgMjU2KTtcbiAgICAgICAgaWYgKHRoaXMubWF4RmVlUGVyR2FzLmx0KHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ21heEZlZVBlckdhcyBjYW5ub3QgYmUgbGVzcyB0aGFuIG1heFByaW9yaXR5RmVlUGVyR2FzIChUaGUgdG90YWwgbXVzdCBiZSB0aGUgbGFyZ2VyIG9mIHRoZSB0d28pJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudiAmJiAhdGhpcy52LmVxbigwKSAmJiAhdGhpcy52LmVxbigxKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgeS1wYXJpdHkgb2YgdGhlIHRyYW5zYWN0aW9uIHNob3VsZCBlaXRoZXIgYmUgMCBvciAxJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiAoKF9hID0gdGhpcy5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ3QodHlwZXNfMS5OX0RJVl8yKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTaWduYXR1cmU6IHMtdmFsdWVzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZyZWV6ZSA9IChfYiA9IG9wdHMgPT09IG51bGwgfHwgb3B0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0cy5mcmVlemUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHRydWU7XG4gICAgICAgIGlmIChmcmVlemUpIHtcbiAgICAgICAgICAgIE9iamVjdC5mcmVlemUodGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRUlQLTI5MzAgYWxpYXMgZm9yIGByYFxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGByYCBpbnN0ZWFkXG4gICAgICovXG4gICAgZ2V0IHNlbmRlclIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVJUC0yOTMwIGFsaWFzIGZvciBgc2BcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBgc2AgaW5zdGVhZFxuICAgICAqL1xuICAgIGdldCBzZW5kZXJTKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFSVAtMjkzMCBhbGlhcyBmb3IgYHZgXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgYHZgIGluc3RlYWRcbiAgICAgKi9cbiAgICBnZXQgeVBhcml0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgZGF0YSBkaWN0aW9uYXJ5LlxuICAgICAqXG4gICAgICogRm9ybWF0OiB7IGNoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHYsIHIsIHMgfVxuICAgICAqXG4gICAgICogTm90ZXM6XG4gICAgICogLSBgY2hhaW5JZGAgd2lsbCBiZSBzZXQgYXV0b21hdGljYWxseSBpZiBub3QgcHJvdmlkZWRcbiAgICAgKiAtIEFsbCBwYXJhbWV0ZXJzIGFyZSBvcHRpb25hbCBhbmQgaGF2ZSBzb21lIGJhc2ljIGRlZmF1bHQgdmFsdWVzXG4gICAgICovXG4gICAgc3RhdGljIGZyb21UeERhdGEodHhEYXRhLCBvcHRzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24odHhEYXRhLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgMHgwMiB8fCBybHAoW2NoYWluSWQsIG5vbmNlLCBtYXhQcmlvcml0eUZlZVBlckdhcywgbWF4RmVlUGVyR2FzLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLFxuICAgICAqIGFjY2Vzc0xpc3QsIHNpZ25hdHVyZVlQYXJpdHksIHNpZ25hdHVyZVIsIHNpZ25hdHVyZVNdKWBcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVNlcmlhbGl6ZWRUeChzZXJpYWxpemVkLCBvcHRzID0ge30pIHtcbiAgICAgICAgaWYgKCFzZXJpYWxpemVkLnNsaWNlKDAsIDEpLmVxdWFscyhUUkFOU0FDVElPTl9UWVBFX0JVRkZFUikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzZXJpYWxpemVkIHR4IGlucHV0OiBub3QgYW4gRUlQLTE1NTkgdHJhbnNhY3Rpb24gKHdyb25nIHR4IHR5cGUsIGV4cGVjdGVkOiAke1RSQU5TQUNUSU9OX1RZUEV9LCByZWNlaXZlZDogJHtzZXJpYWxpemVkXG4gICAgICAgICAgICAgICAgLnNsaWNlKDAsIDEpXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKCdoZXgnKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXMgPSBldGhlcmV1bWpzX3V0aWxfMS5ybHAuZGVjb2RlKHNlcmlhbGl6ZWQuc2xpY2UoMSkpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcmlhbGl6ZWQgdHggaW5wdXQ6IG11c3QgYmUgYXJyYXknKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICogKGFsaWFzIG9mIHtAbGluayBGZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeH0pXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIG1lYW5zIHRoYXQgdGhlIEJ1ZmZlciBzaG91bGQgc3RhcnQgd2l0aCAweDAxLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBjb25zdHJ1Y3RvciBhbGlhcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBpbiBmYXZvciBvZiB0aGUge0BsaW5rIEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4fSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUmxwU2VyaWFsaXplZFR4KHNlcmlhbGl6ZWQsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gYSB2YWx1ZXMgYXJyYXkuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGBbY2hhaW5JZCwgbm9uY2UsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsXG4gICAgICogYWNjZXNzTGlzdCwgc2lnbmF0dXJlWVBhcml0eSwgc2lnbmF0dXJlUiwgc2lnbmF0dXJlU11gXG4gICAgICovXG4gICAgc3RhdGljIGZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMgPSB7fSkge1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCAhPT0gOSAmJiB2YWx1ZXMubGVuZ3RoICE9PSAxMikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEVJUC0xNTU5IHRyYW5zYWN0aW9uLiBPbmx5IGV4cGVjdGluZyA5IHZhbHVlcyAoZm9yIHVuc2lnbmVkIHR4KSBvciAxMiB2YWx1ZXMgKGZvciBzaWduZWQgdHgpLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgYWNjZXNzTGlzdCwgdiwgciwgcyxdID0gdmFsdWVzO1xuICAgICAgICByZXR1cm4gbmV3IEZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbih7XG4gICAgICAgICAgICBjaGFpbklkOiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZSxcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgICAgICAgZ2FzTGltaXQsXG4gICAgICAgICAgICB0byxcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGFjY2Vzc0xpc3Q6IGFjY2Vzc0xpc3QgIT09IG51bGwgJiYgYWNjZXNzTGlzdCAhPT0gdm9pZCAwID8gYWNjZXNzTGlzdCA6IFtdLFxuICAgICAgICAgICAgdjogdiAhPT0gdW5kZWZpbmVkID8gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIGdhcyBwYWlkIGZvciB0aGUgZGF0YSBpbiB0aGlzIHR4XG4gICAgICovXG4gICAgZ2V0RGF0YUZlZSgpIHtcbiAgICAgICAgY29uc3QgY29zdCA9IHN1cGVyLmdldERhdGFGZWUoKTtcbiAgICAgICAgY29zdC5pYWRkbih1dGlsXzEuQWNjZXNzTGlzdHMuZ2V0RGF0YUZlZUVJUDI5MzAodGhpcy5hY2Nlc3NMaXN0LCB0aGlzLmNvbW1vbikpO1xuICAgICAgICByZXR1cm4gY29zdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVwIGZyb250IGFtb3VudCB0aGF0IGFuIGFjY291bnQgbXVzdCBoYXZlIGZvciB0aGlzIHRyYW5zYWN0aW9uIHRvIGJlIHZhbGlkXG4gICAgICogQHBhcmFtIGJhc2VGZWUgVGhlIGJhc2UgZmVlIG9mIHRoZSBibG9jayAod2lsbCBiZSBzZXQgdG8gMCBpZiBub3QgcHJvdmlkZWQpXG4gICAgICovXG4gICAgZ2V0VXBmcm9udENvc3QoYmFzZUZlZSA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTigwKSkge1xuICAgICAgICBjb25zdCBpbmNsdXNpb25GZWVQZXJHYXMgPSBldGhlcmV1bWpzX3V0aWxfMS5CTi5taW4odGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcywgdGhpcy5tYXhGZWVQZXJHYXMuc3ViKGJhc2VGZWUpKTtcbiAgICAgICAgY29uc3QgZ2FzUHJpY2UgPSBpbmNsdXNpb25GZWVQZXJHYXMuYWRkKGJhc2VGZWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5nYXNMaW1pdC5tdWwoZ2FzUHJpY2UpLmFkZCh0aGlzLnZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJ1ZmZlciBBcnJheSBvZiB0aGUgcmF3IEJ1ZmZlcnMgb2YgdGhlIEVJUC0xNTU5IHRyYW5zYWN0aW9uLCBpbiBvcmRlci5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCBzaWduYXR1cmVZUGFyaXR5LCBzaWduYXR1cmVSLCBzaWduYXR1cmVTXWBcbiAgICAgKlxuICAgICAqIFVzZSB7QGxpbmsgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLnNlcmlhbGl6ZX0gdG8gYWRkIGEgdHJhbnNhY3Rpb24gdG8gYSBibG9ja1xuICAgICAqIHdpdGgge0BsaW5rIEJsb2NrLmZyb21WYWx1ZXNBcnJheX0uXG4gICAgICpcbiAgICAgKiBGb3IgYW4gdW5zaWduZWQgdHggdGhpcyBtZXRob2QgdXNlcyB0aGUgZW1wdHkgQnVmZmVyIHZhbHVlcyBmb3IgdGhlXG4gICAgICogc2lnbmF0dXJlIHBhcmFtZXRlcnMgYHZgLCBgcmAgYW5kIGBzYCBmb3IgZW5jb2RpbmcuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGZvciBleHRlcm5hbCBzaWduaW5nIHVzZSB7QGxpbmsgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259LlxuICAgICAqL1xuICAgIHJhdygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMubWF4UHJpb3JpdHlGZWVQZXJHYXMpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5tYXhGZWVQZXJHYXMpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ1ZiA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgdGhpcy5hY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnYpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnIpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnMpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZXJpYWxpemVkIGVuY29kaW5nIG9mIHRoZSBFSVAtMTU1OSB0cmFuc2FjdGlvbi5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYDB4MDIgfHwgcmxwKFtjaGFpbklkLCBub25jZSwgbWF4UHJpb3JpdHlGZWVQZXJHYXMsIG1heEZlZVBlckdhcywgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSxcbiAgICAgKiBhY2Nlc3NMaXN0LCBzaWduYXR1cmVZUGFyaXR5LCBzaWduYXR1cmVSLCBzaWduYXR1cmVTXSlgXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaW4gY29udHJhc3QgdG8gdGhlIGxlZ2FjeSB0eCBzZXJpYWxpemF0aW9uIGZvcm1hdCB0aGlzIGlzIG5vdFxuICAgICAqIHZhbGlkIFJMUCBhbnkgbW9yZSBkdWUgdG8gdGhlIHJhdyB0eCB0eXBlIHByZWNlZGluZyBhbmQgY29uY2F0ZW5hdGVkIHRvXG4gICAgICogdGhlIFJMUCBlbmNvZGluZyBvZiB0aGUgdmFsdWVzLlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMucmF3KCk7XG4gICAgICAgIHJldHVybiBCdWZmZXIuY29uY2F0KFtUUkFOU0FDVElPTl9UWVBFX0JVRkZFUiwgZXRoZXJldW1qc191dGlsXzEucmxwLmVuY29kZShiYXNlKV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZXJpYWxpemVkIHVuc2lnbmVkIHR4IChoYXNoZWQgb3IgcmF3KSwgd2hpY2ggY2FuIGJlIHVzZWRcbiAgICAgKiB0byBzaWduIHRoZSB0cmFuc2FjdGlvbiAoZS5nLiBmb3Igc2VuZGluZyB0byBhIGhhcmR3YXJlIHdhbGxldCkuXG4gICAgICpcbiAgICAgKiBOb3RlOiBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHRoZSByYXcgbWVzc2FnZSBmb3JtYXQgaXMgYWxyZWFkeVxuICAgICAqIHNlcmlhbGl6ZWQgYW5kIGRvZXNuJ3QgbmVlZCB0byBiZSBSTFAgZW5jb2RlZCBhbnkgbW9yZS5cbiAgICAgKlxuICAgICAqIGBgYGphdmFzY3JpcHRcbiAgICAgKiBjb25zdCBzZXJpYWxpemVkTWVzc2FnZSA9IHR4LmdldE1lc3NhZ2VUb1NpZ24oZmFsc2UpIC8vIHVzZSB0aGlzIGZvciB0aGUgSFcgd2FsbGV0IGlucHV0XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gaGFzaE1lc3NhZ2UgLSBSZXR1cm4gaGFzaGVkIG1lc3NhZ2UgaWYgc2V0IHRvIHRydWUgKGRlZmF1bHQ6IHRydWUpXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZVRvU2lnbihoYXNoTWVzc2FnZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMucmF3KCkuc2xpY2UoMCwgOSk7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBCdWZmZXIuY29uY2F0KFtUUkFOU0FDVElPTl9UWVBFX0JVRkZFUiwgZXRoZXJldW1qc191dGlsXzEucmxwLmVuY29kZShiYXNlKV0pO1xuICAgICAgICBpZiAoaGFzaE1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEua2VjY2FrMjU2KShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCBvZiB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgZm9yIHNpZ25lZCB0eHMgKGl0IHRocm93cyBvdGhlcndpc2UpLlxuICAgICAqIFVzZSB7QGxpbmsgRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259IHRvIGdldCBhIHR4IGhhc2ggZm9yIHRoZSBwdXJwb3NlIG9mIHNpZ25pbmcuXG4gICAgICovXG4gICAgaGFzaCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgaGFzaCBtZXRob2QgaWYgdHJhbnNhY3Rpb24gaXMgbm90IHNpZ25lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4odGhpcykpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5oYXNoID0gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmtlY2NhazI1NikodGhpcy5zZXJpYWxpemUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5oYXNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEua2VjY2FrMjU2KSh0aGlzLnNlcmlhbGl6ZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBzaGEzLTI1NiBoYXNoIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHZlcmlmeSB0aGUgc2lnbmF0dXJlXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZVRvVmVyaWZ5U2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXNzYWdlVG9TaWduKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHB1YmxpYyBrZXkgb2YgdGhlIHNlbmRlclxuICAgICAqL1xuICAgIGdldFNlbmRlclB1YmxpY0tleSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuaXNTaWduZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCB0aGlzIG1ldGhvZCBpZiB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXNnSGFzaCA9IHRoaXMuZ2V0TWVzc2FnZVRvVmVyaWZ5U2lnbmF0dXJlKCk7XG4gICAgICAgIC8vIEVJUC0yOiBBbGwgdHJhbnNhY3Rpb24gc2lnbmF0dXJlcyB3aG9zZSBzLXZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZC5cbiAgICAgICAgLy8gUmVhc29uaW5nOiBodHRwczovL2V0aGVyZXVtLnN0YWNrZXhjaGFuZ2UuY29tL2EvNTU3MjhcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiAoKF9hID0gdGhpcy5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ3QodHlwZXNfMS5OX0RJVl8yKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTaWduYXR1cmU6IHMtdmFsdWVzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdiwgciwgcyB9ID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEuZWNyZWNvdmVyKShtc2dIYXNoLCB2LmFkZG4oMjcpLCAvLyBSZWNvdmVyIHRoZSAyNyB3aGljaCB3YXMgc3RyaXBwZWQgZnJvbSBlY3NpZ25cbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHIpLCAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKShzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTaWduYXR1cmUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvY2Vzc1NpZ25hdHVyZSh2LCByLCBzKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgICAgICBjb21tb246IHRoaXMuY29tbW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uLmZyb21UeERhdGEoe1xuICAgICAgICAgICAgY2hhaW5JZDogdGhpcy5jaGFpbklkLFxuICAgICAgICAgICAgbm9uY2U6IHRoaXMubm9uY2UsXG4gICAgICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhczogdGhpcy5tYXhQcmlvcml0eUZlZVBlckdhcyxcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogdGhpcy5tYXhGZWVQZXJHYXMsXG4gICAgICAgICAgICBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgICAgICAgIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiB0aGlzLmFjY2Vzc0xpc3QsXG4gICAgICAgICAgICB2OiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4odiAtIDI3KSxcbiAgICAgICAgICAgIHI6IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihyKSxcbiAgICAgICAgICAgIHM6IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihzKSxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IHV0aWxfMS5BY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0SlNPTih0aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhaW5JZDogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZTogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMubm9uY2UpLFxuICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLm1heFByaW9yaXR5RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIG1heEZlZVBlckdhczogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMubWF4RmVlUGVyR2FzKSxcbiAgICAgICAgICAgIGdhc0xpbWl0OiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0bzogdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by50b1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIGRhdGE6ICcweCcgKyB0aGlzLmRhdGEudG9TdHJpbmcoJ2hleCcpLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdEpTT04sXG4gICAgICAgICAgICB2OiB0aGlzLnYgIT09IHVuZGVmaW5lZCA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5yKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHM6IHRoaXMucyAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMucykgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZWlwMTU1OVRyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip1559Transaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip2930Transaction.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip2930Transaction.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\nconst baseTransaction_1 = __webpack_require__(/*! ./baseTransaction */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/baseTransaction.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\");\nconst util_1 = __webpack_require__(/*! ./util */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/util.js\");\nconst TRANSACTION_TYPE = 1;\nconst TRANSACTION_TYPE_BUFFER = Buffer.from(TRANSACTION_TYPE.toString(16).padStart(2, '0'), 'hex');\n/**\n * Typed transaction with optional access lists\n *\n * - TransactionType: 1\n * - EIP: [EIP-2930](https://eips.ethereum.org/EIPS/eip-2930)\n */\nclass AccessListEIP2930Transaction extends baseTransaction_1.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        var _a, _b;\n        super(Object.assign(Object.assign({}, txData), { type: TRANSACTION_TYPE }));\n        /**\n         * The default HF if the tx type is active on that HF\n         * or the first greater HF where the tx is active.\n         *\n         * @hidden\n         */\n        this.DEFAULT_HARDFORK = 'berlin';\n        const { chainId, accessList, gasPrice } = txData;\n        this.common = this._getCommon(opts.common, chainId);\n        this.chainId = this.common.chainIdBN();\n        // EIP-2718 check is done in Common\n        if (!this.common.isActivatedEIP(2930)) {\n            throw new Error('EIP-2930 not enabled on Common');\n        }\n        this.activeCapabilities = this.activeCapabilities.concat([2718, 2930]);\n        // Populate the access list fields\n        const accessListData = util_1.AccessLists.getAccessListData(accessList !== null && accessList !== void 0 ? accessList : []);\n        this.accessList = accessListData.accessList;\n        this.AccessListJSON = accessListData.AccessListJSON;\n        // Verify the access list format.\n        util_1.AccessLists.verifyAccessList(this.accessList);\n        this.gasPrice = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(gasPrice === '' ? '0x' : gasPrice));\n        this._validateCannotExceedMaxInteger({ gasPrice: this.gasPrice });\n        if (this.v && !this.v.eqn(0) && !this.v.eqn(1)) {\n            throw new Error('The y-parity of the transaction should either be 0 or 1');\n        }\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            throw new Error('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n        }\n        const freeze = (_b = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _b !== void 0 ? _b : true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * EIP-2930 alias for `r`\n     *\n     * @deprecated use `r` instead\n     */\n    get senderR() {\n        return this.r;\n    }\n    /**\n     * EIP-2930 alias for `s`\n     *\n     * @deprecated use `s` instead\n     */\n    get senderS() {\n        return this.s;\n    }\n    /**\n     * EIP-2930 alias for `v`\n     *\n     * @deprecated use `v` instead\n     */\n    get yParity() {\n        return this.v;\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * v, r, s }\n     *\n     * Notes:\n     * - `chainId` will be set automatically if not provided\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new AccessListEIP2930Transaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `0x01 || rlp([chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        if (!serialized.slice(0, 1).equals(TRANSACTION_TYPE_BUFFER)) {\n            throw new Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: ${TRANSACTION_TYPE}, received: ${serialized\n                .slice(0, 1)\n                .toString('hex')}`);\n        }\n        const values = ethereumjs_util_1.rlp.decode(serialized.slice(1));\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input: must be array');\n        }\n        return AccessListEIP2930Transaction.fromValuesArray(values, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     * (alias of {@link AccessListEIP2930Transaction.fromSerializedTx})\n     *\n     * Note: This means that the Buffer should start with 0x01.\n     *\n     * @deprecated this constructor alias is deprecated and will be removed\n     * in favor of the {@link AccessListEIP2930Transaction.fromSerializedTx} constructor\n     */\n    static fromRlpSerializedTx(serialized, opts = {}) {\n        return AccessListEIP2930Transaction.fromSerializedTx(serialized, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        if (values.length !== 8 && values.length !== 11) {\n            throw new Error('Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).');\n        }\n        const [chainId, nonce, gasPrice, gasLimit, to, value, data, accessList, v, r, s] = values;\n        const emptyAccessList = [];\n        return new AccessListEIP2930Transaction({\n            chainId: new ethereumjs_util_1.BN(chainId),\n            nonce,\n            gasPrice,\n            gasLimit,\n            to,\n            value,\n            data,\n            accessList: accessList !== null && accessList !== void 0 ? accessList : emptyAccessList,\n            v: v !== undefined ? new ethereumjs_util_1.BN(v) : undefined,\n            r,\n            s,\n        }, opts);\n    }\n    /**\n     * The amount of gas paid for the data in this tx\n     */\n    getDataFee() {\n        const cost = super.getDataFee();\n        cost.iaddn(util_1.AccessLists.getDataFeeEIP2930(this.accessList, this.common));\n        return cost;\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     */\n    getUpfrontCost() {\n        return this.gasLimit.mul(this.gasPrice).add(this.value);\n    }\n    /**\n     * Returns a Buffer Array of the raw Buffers of the EIP-2930 transaction, in order.\n     *\n     * Format: `[chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)]`\n     *\n     * Use {@link AccessListEIP2930Transaction.serialize} to add a transaction to a block\n     * with {@link Block.fromValuesArray}.\n     *\n     * For an unsigned tx this method uses the empty Buffer values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link AccessListEIP2930Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.chainId),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasPrice),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n            this.accessList,\n            this.v !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.v) : Buffer.from([]),\n            this.r !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.r) : Buffer.from([]),\n            this.s !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.s) : Buffer.from([]),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the EIP-2930 transaction.\n     *\n     * Format: `0x01 || rlp([chainId, nonce, gasPrice, gasLimit, to, value, data, accessList,\n     * signatureYParity (v), signatureR (r), signatureS (s)])`\n     *\n     * Note that in contrast to the legacy tx serialization format this is not\n     * valid RLP any more due to the raw tx type preceding and concatenated to\n     * the RLP encoding of the values.\n     */\n    serialize() {\n        const base = this.raw();\n        return Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n    }\n    /**\n     * Returns the serialized unsigned tx (hashed or raw), which can be used\n     * to sign the transaction (e.g. for sending to a hardware wallet).\n     *\n     * Note: in contrast to the legacy tx the raw message format is already\n     * serialized and doesn't need to be RLP encoded any more.\n     *\n     * ```javascript\n     * const serializedMessage = tx.getMessageToSign(false) // use this for the HW wallet input\n     * ```\n     *\n     * @param hashMessage - Return hashed message if set to true (default: true)\n     */\n    getMessageToSign(hashMessage = true) {\n        const base = this.raw().slice(0, 8);\n        const message = Buffer.concat([TRANSACTION_TYPE_BUFFER, ethereumjs_util_1.rlp.encode(base)]);\n        if (hashMessage) {\n            return (0, ethereumjs_util_1.keccak256)(message);\n        }\n        else {\n            return message;\n        }\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link AccessListEIP2930Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        if (!this.isSigned()) {\n            throw new Error('Cannot call hash method if transaction is not signed');\n        }\n        if (Object.isFrozen(this)) {\n            if (!this.cache.hash) {\n                this.cache.hash = (0, ethereumjs_util_1.keccak256)(this.serialize());\n            }\n            return this.cache.hash;\n        }\n        return (0, ethereumjs_util_1.keccak256)(this.serialize());\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        return this.getMessageToSign();\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        var _a;\n        if (!this.isSigned()) {\n            throw new Error('Cannot call this method if transaction is not signed');\n        }\n        const msgHash = this.getMessageToVerifySignature();\n        // EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n        // Reasoning: https://ethereum.stackexchange.com/a/55728\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            throw new Error('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n        }\n        const { yParity, r, s } = this;\n        try {\n            return (0, ethereumjs_util_1.ecrecover)(msgHash, yParity.addn(27), // Recover the 27 which was stripped from ecsign\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(r), (0, ethereumjs_util_1.bnToUnpaddedBuffer)(s));\n        }\n        catch (e) {\n            throw new Error('Invalid Signature');\n        }\n    }\n    _processSignature(v, r, s) {\n        const opts = {\n            common: this.common,\n        };\n        return AccessListEIP2930Transaction.fromTxData({\n            chainId: this.chainId,\n            nonce: this.nonce,\n            gasPrice: this.gasPrice,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            accessList: this.accessList,\n            v: new ethereumjs_util_1.BN(v - 27),\n            r: new ethereumjs_util_1.BN(r),\n            s: new ethereumjs_util_1.BN(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction\n     */\n    toJSON() {\n        const accessListJSON = util_1.AccessLists.getAccessListJSON(this.accessList);\n        return {\n            chainId: (0, ethereumjs_util_1.bnToHex)(this.chainId),\n            nonce: (0, ethereumjs_util_1.bnToHex)(this.nonce),\n            gasPrice: (0, ethereumjs_util_1.bnToHex)(this.gasPrice),\n            gasLimit: (0, ethereumjs_util_1.bnToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0, ethereumjs_util_1.bnToHex)(this.value),\n            data: '0x' + this.data.toString('hex'),\n            accessList: accessListJSON,\n            v: this.v !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.s) : undefined,\n        };\n    }\n}\nexports[\"default\"] = AccessListEIP2930Transaction;\n//# sourceMappingURL=eip2930Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZWlwMjkzMFRyYW5zYWN0aW9uLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLG9IQUFpQjtBQUNuRCwwQkFBMEIsbUJBQU8sQ0FBQyw4SEFBbUI7QUFDckQsZ0JBQWdCLG1CQUFPLENBQUMsMEdBQVM7QUFDakMsZUFBZSxtQkFBTyxDQUFDLHdHQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0EsNENBQTRDLGFBQWEsd0JBQXdCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGdDQUFnQztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHlCQUF5QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pEO0FBQ0Esa0hBQWtILGlCQUFpQixjQUFjO0FBQ2pKO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixvREFBb0Q7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscURBQXFEO0FBQzdFO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDhDQUE4QztBQUMxRCxhQUFhLDRCQUE0QjtBQUN6QztBQUNBO0FBQ0E7QUFDQSxnREFBZ0Qsb0RBQW9EO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVkscURBQXFEO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixnQkFBZ0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raWNrc3RhcnQvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvZWlwMjkzMFRyYW5zYWN0aW9uLmpzPzY2MWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBldGhlcmV1bWpzX3V0aWxfMSA9IHJlcXVpcmUoXCJldGhlcmV1bWpzLXV0aWxcIik7XG5jb25zdCBiYXNlVHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2Jhc2VUcmFuc2FjdGlvblwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBUUkFOU0FDVElPTl9UWVBFID0gMTtcbmNvbnN0IFRSQU5TQUNUSU9OX1RZUEVfQlVGRkVSID0gQnVmZmVyLmZyb20oVFJBTlNBQ1RJT05fVFlQRS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKSwgJ2hleCcpO1xuLyoqXG4gKiBUeXBlZCB0cmFuc2FjdGlvbiB3aXRoIG9wdGlvbmFsIGFjY2VzcyBsaXN0c1xuICpcbiAqIC0gVHJhbnNhY3Rpb25UeXBlOiAxXG4gKiAtIEVJUDogW0VJUC0yOTMwXShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTI5MzApXG4gKi9cbmNsYXNzIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24gZXh0ZW5kcyBiYXNlVHJhbnNhY3Rpb25fMS5CYXNlVHJhbnNhY3Rpb24ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgY29uc3RydWN0b3IgdGFrZXMgdGhlIHZhbHVlcywgdmFsaWRhdGVzIHRoZW0sIGFzc2lnbnMgdGhlbSBhbmQgZnJlZXplcyB0aGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogSXQgaXMgbm90IHJlY29tbWVuZGVkIHRvIHVzZSB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkIHVzZVxuICAgICAqIHRoZSBzdGF0aWMgZmFjdG9yeSBtZXRob2RzIHRvIGFzc2lzdCBpbiBjcmVhdGluZyBhIFRyYW5zYWN0aW9uIG9iamVjdCBmcm9tXG4gICAgICogdmFyeWluZyBkYXRhIHR5cGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHR4RGF0YSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdHhEYXRhKSwgeyB0eXBlOiBUUkFOU0FDVElPTl9UWVBFIH0pKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBkZWZhdWx0IEhGIGlmIHRoZSB0eCB0eXBlIGlzIGFjdGl2ZSBvbiB0aGF0IEhGXG4gICAgICAgICAqIG9yIHRoZSBmaXJzdCBncmVhdGVyIEhGIHdoZXJlIHRoZSB0eCBpcyBhY3RpdmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBoaWRkZW5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuREVGQVVMVF9IQVJERk9SSyA9ICdiZXJsaW4nO1xuICAgICAgICBjb25zdCB7IGNoYWluSWQsIGFjY2Vzc0xpc3QsIGdhc1ByaWNlIH0gPSB0eERhdGE7XG4gICAgICAgIHRoaXMuY29tbW9uID0gdGhpcy5fZ2V0Q29tbW9uKG9wdHMuY29tbW9uLCBjaGFpbklkKTtcbiAgICAgICAgdGhpcy5jaGFpbklkID0gdGhpcy5jb21tb24uY2hhaW5JZEJOKCk7XG4gICAgICAgIC8vIEVJUC0yNzE4IGNoZWNrIGlzIGRvbmUgaW4gQ29tbW9uXG4gICAgICAgIGlmICghdGhpcy5jb21tb24uaXNBY3RpdmF0ZWRFSVAoMjkzMCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRUlQLTI5MzAgbm90IGVuYWJsZWQgb24gQ29tbW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmVDYXBhYmlsaXRpZXMgPSB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5jb25jYXQoWzI3MTgsIDI5MzBdKTtcbiAgICAgICAgLy8gUG9wdWxhdGUgdGhlIGFjY2VzcyBsaXN0IGZpZWxkc1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0RGF0YSA9IHV0aWxfMS5BY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0RGF0YShhY2Nlc3NMaXN0ICE9PSBudWxsICYmIGFjY2Vzc0xpc3QgIT09IHZvaWQgMCA/IGFjY2Vzc0xpc3QgOiBbXSk7XG4gICAgICAgIHRoaXMuYWNjZXNzTGlzdCA9IGFjY2Vzc0xpc3REYXRhLmFjY2Vzc0xpc3Q7XG4gICAgICAgIHRoaXMuQWNjZXNzTGlzdEpTT04gPSBhY2Nlc3NMaXN0RGF0YS5BY2Nlc3NMaXN0SlNPTjtcbiAgICAgICAgLy8gVmVyaWZ5IHRoZSBhY2Nlc3MgbGlzdCBmb3JtYXQuXG4gICAgICAgIHV0aWxfMS5BY2Nlc3NMaXN0cy52ZXJpZnlBY2Nlc3NMaXN0KHRoaXMuYWNjZXNzTGlzdCk7XG4gICAgICAgIHRoaXMuZ2FzUHJpY2UgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKShnYXNQcmljZSA9PT0gJycgPyAnMHgnIDogZ2FzUHJpY2UpKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVDYW5ub3RFeGNlZWRNYXhJbnRlZ2VyKHsgZ2FzUHJpY2U6IHRoaXMuZ2FzUHJpY2UgfSk7XG4gICAgICAgIGlmICh0aGlzLnYgJiYgIXRoaXMudi5lcW4oMCkgJiYgIXRoaXMudi5lcW4oMSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIHktcGFyaXR5IG9mIHRoZSB0cmFuc2FjdGlvbiBzaG91bGQgZWl0aGVyIGJlIDAgb3IgMScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNvbW1vbi5ndGVIYXJkZm9yaygnaG9tZXN0ZWFkJykgJiYgKChfYSA9IHRoaXMucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmd0KHR5cGVzXzEuTl9ESVZfMikpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgU2lnbmF0dXJlOiBzLXZhbHVlcyBncmVhdGVyIHRoYW4gc2VjcDI1Nmsxbi8yIGFyZSBjb25zaWRlcmVkIGludmFsaWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmcmVlemUgPSAoX2IgPSBvcHRzID09PSBudWxsIHx8IG9wdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdHMuZnJlZXplKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0cnVlO1xuICAgICAgICBpZiAoZnJlZXplKSB7XG4gICAgICAgICAgICBPYmplY3QuZnJlZXplKHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVJUC0yOTMwIGFsaWFzIGZvciBgcmBcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHVzZSBgcmAgaW5zdGVhZFxuICAgICAqL1xuICAgIGdldCBzZW5kZXJSKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFSVAtMjkzMCBhbGlhcyBmb3IgYHNgXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCB1c2UgYHNgIGluc3RlYWRcbiAgICAgKi9cbiAgICBnZXQgc2VuZGVyUygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRUlQLTI5MzAgYWxpYXMgZm9yIGB2YFxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGB2YCBpbnN0ZWFkXG4gICAgICovXG4gICAgZ2V0IHlQYXJpdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnY7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogeyBjaGFpbklkLCBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsXG4gICAgICogdiwgciwgcyB9XG4gICAgICpcbiAgICAgKiBOb3RlczpcbiAgICAgKiAtIGBjaGFpbklkYCB3aWxsIGJlIHNldCBhdXRvbWF0aWNhbGx5IGlmIG5vdCBwcm92aWRlZFxuICAgICAqIC0gQWxsIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsIGFuZCBoYXZlIHNvbWUgYmFzaWMgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVR4RGF0YSh0eERhdGEsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24odHhEYXRhLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5zdGFudGlhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqXG4gICAgICogRm9ybWF0OiBgMHgwMSB8fCBybHAoW2NoYWluSWQsIG5vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgYWNjZXNzTGlzdCxcbiAgICAgKiBzaWduYXR1cmVZUGFyaXR5ICh2KSwgc2lnbmF0dXJlUiAociksIHNpZ25hdHVyZVMgKHMpXSlgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGlmICghc2VyaWFsaXplZC5zbGljZSgwLCAxKS5lcXVhbHMoVFJBTlNBQ1RJT05fVFlQRV9CVUZGRVIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dDogbm90IGFuIEVJUC0yOTMwIHRyYW5zYWN0aW9uICh3cm9uZyB0eCB0eXBlLCBleHBlY3RlZDogJHtUUkFOU0FDVElPTl9UWVBFfSwgcmVjZWl2ZWQ6ICR7c2VyaWFsaXplZFxuICAgICAgICAgICAgICAgIC5zbGljZSgwLCAxKVxuICAgICAgICAgICAgICAgIC50b1N0cmluZygnaGV4Jyl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVzID0gZXRoZXJldW1qc191dGlsXzEucmxwLmRlY29kZShzZXJpYWxpemVkLnNsaWNlKDEpKTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzZXJpYWxpemVkIHR4IGlucHV0OiBtdXN0IGJlIGFycmF5Jyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVZhbHVlc0FycmF5KHZhbHVlcywgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKiAoYWxpYXMgb2Yge0BsaW5rIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeH0pXG4gICAgICpcbiAgICAgKiBOb3RlOiBUaGlzIG1lYW5zIHRoYXQgdGhlIEJ1ZmZlciBzaG91bGQgc3RhcnQgd2l0aCAweDAxLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdGhpcyBjb25zdHJ1Y3RvciBhbGlhcyBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBpbiBmYXZvciBvZiB0aGUge0BsaW5rIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeH0gY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJscFNlcmlhbGl6ZWRUeChzZXJpYWxpemVkLCBvcHRzID0ge30pIHtcbiAgICAgICAgcmV0dXJuIEFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeChzZXJpYWxpemVkLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIHZhbHVlcyBhcnJheS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtjaGFpbklkLCBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsXG4gICAgICogc2lnbmF0dXJlWVBhcml0eSAodiksIHNpZ25hdHVyZVIgKHIpLCBzaWduYXR1cmVTIChzKV1gXG4gICAgICovXG4gICAgc3RhdGljIGZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMgPSB7fSkge1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCAhPT0gOCAmJiB2YWx1ZXMubGVuZ3RoICE9PSAxMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEVJUC0yOTMwIHRyYW5zYWN0aW9uLiBPbmx5IGV4cGVjdGluZyA4IHZhbHVlcyAoZm9yIHVuc2lnbmVkIHR4KSBvciAxMSB2YWx1ZXMgKGZvciBzaWduZWQgdHgpLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtjaGFpbklkLCBub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIGFjY2Vzc0xpc3QsIHYsIHIsIHNdID0gdmFsdWVzO1xuICAgICAgICBjb25zdCBlbXB0eUFjY2Vzc0xpc3QgPSBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihjaGFpbklkKSxcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdCAhPT0gbnVsbCAmJiBhY2Nlc3NMaXN0ICE9PSB2b2lkIDAgPyBhY2Nlc3NMaXN0IDogZW1wdHlBY2Nlc3NMaXN0LFxuICAgICAgICAgICAgdjogdiAhPT0gdW5kZWZpbmVkID8gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcixcbiAgICAgICAgICAgIHMsXG4gICAgICAgIH0sIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYW1vdW50IG9mIGdhcyBwYWlkIGZvciB0aGUgZGF0YSBpbiB0aGlzIHR4XG4gICAgICovXG4gICAgZ2V0RGF0YUZlZSgpIHtcbiAgICAgICAgY29uc3QgY29zdCA9IHN1cGVyLmdldERhdGFGZWUoKTtcbiAgICAgICAgY29zdC5pYWRkbih1dGlsXzEuQWNjZXNzTGlzdHMuZ2V0RGF0YUZlZUVJUDI5MzAodGhpcy5hY2Nlc3NMaXN0LCB0aGlzLmNvbW1vbikpO1xuICAgICAgICByZXR1cm4gY29zdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVwIGZyb250IGFtb3VudCB0aGF0IGFuIGFjY291bnQgbXVzdCBoYXZlIGZvciB0aGlzIHRyYW5zYWN0aW9uIHRvIGJlIHZhbGlkXG4gICAgICovXG4gICAgZ2V0VXBmcm9udENvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhc0xpbWl0Lm11bCh0aGlzLmdhc1ByaWNlKS5hZGQodGhpcy52YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBCdWZmZXIgQXJyYXkgb2YgdGhlIHJhdyBCdWZmZXJzIG9mIHRoZSBFSVAtMjkzMCB0cmFuc2FjdGlvbiwgaW4gb3JkZXIuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGBbY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LFxuICAgICAqIHNpZ25hdHVyZVlQYXJpdHkgKHYpLCBzaWduYXR1cmVSIChyKSwgc2lnbmF0dXJlUyAocyldYFxuICAgICAqXG4gICAgICogVXNlIHtAbGluayBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLnNlcmlhbGl6ZX0gdG8gYWRkIGEgdHJhbnNhY3Rpb24gdG8gYSBibG9ja1xuICAgICAqIHdpdGgge0BsaW5rIEJsb2NrLmZyb21WYWx1ZXNBcnJheX0uXG4gICAgICpcbiAgICAgKiBGb3IgYW4gdW5zaWduZWQgdHggdGhpcyBtZXRob2QgdXNlcyB0aGUgZW1wdHkgQnVmZmVyIHZhbHVlcyBmb3IgdGhlXG4gICAgICogc2lnbmF0dXJlIHBhcmFtZXRlcnMgYHZgLCBgcmAgYW5kIGBzYCBmb3IgZW5jb2RpbmcuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGZvciBleHRlcm5hbCBzaWduaW5nIHVzZSB7QGxpbmsgQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICByYXcoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLmNoYWluSWQpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5ub25jZSksXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLmdhc1ByaWNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuZ2FzTGltaXQpLFxuICAgICAgICAgICAgdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by5idWYgOiBCdWZmZXIuZnJvbShbXSksXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIHRoaXMuZGF0YSxcbiAgICAgICAgICAgIHRoaXMuYWNjZXNzTGlzdCxcbiAgICAgICAgICAgIHRoaXMudiAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy52KSA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgIHRoaXMuciAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5yKSA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgIHRoaXMucyAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5zKSA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2VyaWFsaXplZCBlbmNvZGluZyBvZiB0aGUgRUlQLTI5MzAgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGAweDAxIHx8IHJscChbY2hhaW5JZCwgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCBhY2Nlc3NMaXN0LFxuICAgICAqIHNpZ25hdHVyZVlQYXJpdHkgKHYpLCBzaWduYXR1cmVSIChyKSwgc2lnbmF0dXJlUyAocyldKWBcbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBpbiBjb250cmFzdCB0byB0aGUgbGVnYWN5IHR4IHNlcmlhbGl6YXRpb24gZm9ybWF0IHRoaXMgaXMgbm90XG4gICAgICogdmFsaWQgUkxQIGFueSBtb3JlIGR1ZSB0byB0aGUgcmF3IHR4IHR5cGUgcHJlY2VkaW5nIGFuZCBjb25jYXRlbmF0ZWQgdG9cbiAgICAgKiB0aGUgUkxQIGVuY29kaW5nIG9mIHRoZSB2YWx1ZXMuXG4gICAgICovXG4gICAgc2VyaWFsaXplKCkge1xuICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5yYXcoKTtcbiAgICAgICAgcmV0dXJuIEJ1ZmZlci5jb25jYXQoW1RSQU5TQUNUSU9OX1RZUEVfQlVGRkVSLCBldGhlcmV1bWpzX3V0aWxfMS5ybHAuZW5jb2RlKGJhc2UpXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNlcmlhbGl6ZWQgdW5zaWduZWQgdHggKGhhc2hlZCBvciByYXcpLCB3aGljaCBjYW4gYmUgdXNlZFxuICAgICAqIHRvIHNpZ24gdGhlIHRyYW5zYWN0aW9uIChlLmcuIGZvciBzZW5kaW5nIHRvIGEgaGFyZHdhcmUgd2FsbGV0KS5cbiAgICAgKlxuICAgICAqIE5vdGU6IGluIGNvbnRyYXN0IHRvIHRoZSBsZWdhY3kgdHggdGhlIHJhdyBtZXNzYWdlIGZvcm1hdCBpcyBhbHJlYWR5XG4gICAgICogc2VyaWFsaXplZCBhbmQgZG9lc24ndCBuZWVkIHRvIGJlIFJMUCBlbmNvZGVkIGFueSBtb3JlLlxuICAgICAqXG4gICAgICogYGBgamF2YXNjcmlwdFxuICAgICAqIGNvbnN0IHNlcmlhbGl6ZWRNZXNzYWdlID0gdHguZ2V0TWVzc2FnZVRvU2lnbihmYWxzZSkgLy8gdXNlIHRoaXMgZm9yIHRoZSBIVyB3YWxsZXQgaW5wdXRcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBoYXNoTWVzc2FnZSAtIFJldHVybiBoYXNoZWQgbWVzc2FnZSBpZiBzZXQgdG8gdHJ1ZSAoZGVmYXVsdDogdHJ1ZSlcbiAgICAgKi9cbiAgICBnZXRNZXNzYWdlVG9TaWduKGhhc2hNZXNzYWdlID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBiYXNlID0gdGhpcy5yYXcoKS5zbGljZSgwLCA4KTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IEJ1ZmZlci5jb25jYXQoW1RSQU5TQUNUSU9OX1RZUEVfQlVGRkVSLCBldGhlcmV1bWpzX3V0aWxfMS5ybHAuZW5jb2RlKGJhc2UpXSk7XG4gICAgICAgIGlmIChoYXNoTWVzc2FnZSkge1xuICAgICAgICAgICAgcmV0dXJuICgwLCBldGhlcmV1bWpzX3V0aWxfMS5rZWNjYWsyNTYpKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBzaGEzLTI1NiBoYXNoIG9mIHRoZSBzZXJpYWxpemVkIHR4LlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgY2FuIG9ubHkgYmUgdXNlZCBmb3Igc2lnbmVkIHR4cyAoaXQgdGhyb3dzIG90aGVyd2lzZSkuXG4gICAgICogVXNlIHtAbGluayBBY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259IHRvIGdldCBhIHR4IGhhc2ggZm9yIHRoZSBwdXJwb3NlIG9mIHNpZ25pbmcuXG4gICAgICovXG4gICAgaGFzaCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNhbGwgaGFzaCBtZXRob2QgaWYgdHJhbnNhY3Rpb24gaXMgbm90IHNpZ25lZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3QuaXNGcm96ZW4odGhpcykpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5jYWNoZS5oYXNoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5oYXNoID0gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmtlY2NhazI1NikodGhpcy5zZXJpYWxpemUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5oYXNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEua2VjY2FrMjU2KSh0aGlzLnNlcmlhbGl6ZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgYSBzaGEzLTI1NiBoYXNoIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHZlcmlmeSB0aGUgc2lnbmF0dXJlXG4gICAgICovXG4gICAgZ2V0TWVzc2FnZVRvVmVyaWZ5U2lnbmF0dXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRNZXNzYWdlVG9TaWduKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHB1YmxpYyBrZXkgb2YgdGhlIHNlbmRlclxuICAgICAqL1xuICAgIGdldFNlbmRlclB1YmxpY0tleSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMuaXNTaWduZWQoKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCB0aGlzIG1ldGhvZCBpZiB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbXNnSGFzaCA9IHRoaXMuZ2V0TWVzc2FnZVRvVmVyaWZ5U2lnbmF0dXJlKCk7XG4gICAgICAgIC8vIEVJUC0yOiBBbGwgdHJhbnNhY3Rpb24gc2lnbmF0dXJlcyB3aG9zZSBzLXZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZC5cbiAgICAgICAgLy8gUmVhc29uaW5nOiBodHRwczovL2V0aGVyZXVtLnN0YWNrZXhjaGFuZ2UuY29tL2EvNTU3MjhcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiAoKF9hID0gdGhpcy5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ3QodHlwZXNfMS5OX0RJVl8yKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTaWduYXR1cmU6IHMtdmFsdWVzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgeVBhcml0eSwgciwgcyB9ID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEuZWNyZWNvdmVyKShtc2dIYXNoLCB5UGFyaXR5LmFkZG4oMjcpLCAvLyBSZWNvdmVyIHRoZSAyNyB3aGljaCB3YXMgc3RyaXBwZWQgZnJvbSBlY3NpZ25cbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHIpLCAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKShzKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTaWduYXR1cmUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvY2Vzc1NpZ25hdHVyZSh2LCByLCBzKSB7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgICAgICBjb21tb246IHRoaXMuY29tbW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHtcbiAgICAgICAgICAgIGNoYWluSWQ6IHRoaXMuY2hhaW5JZCxcbiAgICAgICAgICAgIG5vbmNlOiB0aGlzLm5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2U6IHRoaXMuZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdDogdGhpcy5nYXNMaW1pdCxcbiAgICAgICAgICAgIHRvOiB0aGlzLnRvLFxuICAgICAgICAgICAgdmFsdWU6IHRoaXMudmFsdWUsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEsXG4gICAgICAgICAgICBhY2Nlc3NMaXN0OiB0aGlzLmFjY2Vzc0xpc3QsXG4gICAgICAgICAgICB2OiBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4odiAtIDI3KSxcbiAgICAgICAgICAgIHI6IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihyKSxcbiAgICAgICAgICAgIHM6IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTihzKSxcbiAgICAgICAgfSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHRyYW5zYWN0aW9uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICBjb25zdCBhY2Nlc3NMaXN0SlNPTiA9IHV0aWxfMS5BY2Nlc3NMaXN0cy5nZXRBY2Nlc3NMaXN0SlNPTih0aGlzLmFjY2Vzc0xpc3QpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2hhaW5JZDogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMuY2hhaW5JZCksXG4gICAgICAgICAgICBub25jZTogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMubm9uY2UpLFxuICAgICAgICAgICAgZ2FzUHJpY2U6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLmdhc1ByaWNlKSxcbiAgICAgICAgICAgIGdhc0xpbWl0OiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0bzogdGhpcy50byAhPT0gdW5kZWZpbmVkID8gdGhpcy50by50b1N0cmluZygpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdmFsdWU6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnZhbHVlKSxcbiAgICAgICAgICAgIGRhdGE6ICcweCcgKyB0aGlzLmRhdGEudG9TdHJpbmcoJ2hleCcpLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYWNjZXNzTGlzdEpTT04sXG4gICAgICAgICAgICB2OiB0aGlzLnYgIT09IHVuZGVmaW5lZCA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnYpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgcjogdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5yKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHM6IHRoaXMucyAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMucykgOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVpcDI5MzBUcmFuc2FjdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip2930Transaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/index.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/index.js ***!
  \*******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.FeeMarketEIP1559Transaction = exports.TransactionFactory = exports.AccessListEIP2930Transaction = exports.Transaction = void 0;\nvar legacyTransaction_1 = __webpack_require__(/*! ./legacyTransaction */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/legacyTransaction.js\");\nObject.defineProperty(exports, \"Transaction\", ({ enumerable: true, get: function () { return __importDefault(legacyTransaction_1).default; } }));\nvar eip2930Transaction_1 = __webpack_require__(/*! ./eip2930Transaction */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip2930Transaction.js\");\nObject.defineProperty(exports, \"AccessListEIP2930Transaction\", ({ enumerable: true, get: function () { return __importDefault(eip2930Transaction_1).default; } }));\nvar transactionFactory_1 = __webpack_require__(/*! ./transactionFactory */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/transactionFactory.js\");\nObject.defineProperty(exports, \"TransactionFactory\", ({ enumerable: true, get: function () { return __importDefault(transactionFactory_1).default; } }));\nvar eip1559Transaction_1 = __webpack_require__(/*! ./eip1559Transaction */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/eip1559Transaction.js\");\nObject.defineProperty(exports, \"FeeMarketEIP1559Transaction\", ({ enumerable: true, get: function () { return __importDefault(eip1559Transaction_1).default; } }));\n__exportStar(__webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\"), exports);\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0EsbUNBQW1DLG9DQUFvQyxnQkFBZ0I7QUFDdkYsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUNBQW1DLEdBQUcsMEJBQTBCLEdBQUcsb0NBQW9DLEdBQUcsbUJBQW1CO0FBQzdILDBCQUEwQixtQkFBTyxDQUFDLGtJQUFxQjtBQUN2RCwrQ0FBOEMsRUFBRSxxQ0FBcUMsd0RBQXdELEVBQUM7QUFDOUksMkJBQTJCLG1CQUFPLENBQUMsb0lBQXNCO0FBQ3pELGdFQUErRCxFQUFFLHFDQUFxQyx5REFBeUQsRUFBQztBQUNoSywyQkFBMkIsbUJBQU8sQ0FBQyxvSUFBc0I7QUFDekQsc0RBQXFELEVBQUUscUNBQXFDLHlEQUF5RCxFQUFDO0FBQ3RKLDJCQUEyQixtQkFBTyxDQUFDLG9JQUFzQjtBQUN6RCwrREFBOEQsRUFBRSxxQ0FBcUMseURBQXlELEVBQUM7QUFDL0osYUFBYSxtQkFBTyxDQUFDLDBHQUFTO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2lja3N0YXJ0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDMuMy4yL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L2luZGV4LmpzPzVhMDIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19jcmVhdGVCaW5kaW5nID0gKHRoaXMgJiYgdGhpcy5fX2NyZWF0ZUJpbmRpbmcpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG1ba107IH0gfSk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gICAgb1trMl0gPSBtW2tdO1xufSkpO1xudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChleHBvcnRzLCBwKSkgX19jcmVhdGVCaW5kaW5nKGV4cG9ydHMsIG0sIHApO1xufTtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uID0gZXhwb3J0cy5UcmFuc2FjdGlvbkZhY3RvcnkgPSBleHBvcnRzLkFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb24gPSBleHBvcnRzLlRyYW5zYWN0aW9uID0gdm9pZCAwO1xudmFyIGxlZ2FjeVRyYW5zYWN0aW9uXzEgPSByZXF1aXJlKFwiLi9sZWdhY3lUcmFuc2FjdGlvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRyYW5zYWN0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQobGVnYWN5VHJhbnNhY3Rpb25fMSkuZGVmYXVsdDsgfSB9KTtcbnZhciBlaXAyOTMwVHJhbnNhY3Rpb25fMSA9IHJlcXVpcmUoXCIuL2VpcDI5MzBUcmFuc2FjdGlvblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkFjY2Vzc0xpc3RFSVAyOTMwVHJhbnNhY3Rpb25cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9faW1wb3J0RGVmYXVsdChlaXAyOTMwVHJhbnNhY3Rpb25fMSkuZGVmYXVsdDsgfSB9KTtcbnZhciB0cmFuc2FjdGlvbkZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL3RyYW5zYWN0aW9uRmFjdG9yeVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlRyYW5zYWN0aW9uRmFjdG9yeVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gX19pbXBvcnREZWZhdWx0KHRyYW5zYWN0aW9uRmFjdG9yeV8xKS5kZWZhdWx0OyB9IH0pO1xudmFyIGVpcDE1NTlUcmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vZWlwMTU1OVRyYW5zYWN0aW9uXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiRmVlTWFya2V0RUlQMTU1OVRyYW5zYWN0aW9uXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2ltcG9ydERlZmF1bHQoZWlwMTU1OVRyYW5zYWN0aW9uXzEpLmRlZmF1bHQ7IH0gfSk7XG5fX2V4cG9ydFN0YXIocmVxdWlyZShcIi4vdHlwZXNcIiksIGV4cG9ydHMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/legacyTransaction.js":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/legacyTransaction.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\");\nconst baseTransaction_1 = __webpack_require__(/*! ./baseTransaction */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/baseTransaction.js\");\nconst TRANSACTION_TYPE = 0;\n/**\n * An Ethereum non-typed (legacy) transaction\n */\nclass Transaction extends baseTransaction_1.BaseTransaction {\n    /**\n     * This constructor takes the values, validates them, assigns them and freezes the object.\n     *\n     * It is not recommended to use this constructor directly. Instead use\n     * the static factory methods to assist in creating a Transaction object from\n     * varying data types.\n     */\n    constructor(txData, opts = {}) {\n        var _a;\n        super(Object.assign(Object.assign({}, txData), { type: TRANSACTION_TYPE }));\n        this.common = this._validateTxV(this.v, opts.common);\n        this.gasPrice = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(txData.gasPrice === '' ? '0x' : txData.gasPrice));\n        this._validateCannotExceedMaxInteger({ gasPrice: this.gasPrice });\n        if (this.common.gteHardfork('spuriousDragon')) {\n            if (!this.isSigned()) {\n                this.activeCapabilities.push(types_1.Capability.EIP155ReplayProtection);\n            }\n            else {\n                // EIP155 spec:\n                // If block.number >= 2,675,000 and v = CHAIN_ID * 2 + 35 or v = CHAIN_ID * 2 + 36\n                // then when computing the hash of a transaction for purposes of signing or recovering\n                // instead of hashing only the first six elements (i.e. nonce, gasprice, startgas, to, value, data)\n                // hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0.\n                const v = this.v;\n                const chainIdDoubled = this.common.chainIdBN().muln(2);\n                // v and chain ID meet EIP-155 conditions\n                if (v.eq(chainIdDoubled.addn(35)) || v.eq(chainIdDoubled.addn(36))) {\n                    this.activeCapabilities.push(types_1.Capability.EIP155ReplayProtection);\n                }\n            }\n        }\n        const freeze = (_a = opts === null || opts === void 0 ? void 0 : opts.freeze) !== null && _a !== void 0 ? _a : true;\n        if (freeze) {\n            Object.freeze(this);\n        }\n    }\n    /**\n     * Instantiate a transaction from a data dictionary.\n     *\n     * Format: { nonce, gasPrice, gasLimit, to, value, data, v, r, s }\n     *\n     * Notes:\n     * - All parameters are optional and have some basic default values\n     */\n    static fromTxData(txData, opts = {}) {\n        return new Transaction(txData, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     *\n     * Format: `rlp([nonce, gasPrice, gasLimit, to, value, data, v, r, s])`\n     */\n    static fromSerializedTx(serialized, opts = {}) {\n        const values = ethereumjs_util_1.rlp.decode(serialized);\n        if (!Array.isArray(values)) {\n            throw new Error('Invalid serialized tx input. Must be array');\n        }\n        return this.fromValuesArray(values, opts);\n    }\n    /**\n     * Instantiate a transaction from the serialized tx.\n     * (alias of {@link Transaction.fromSerializedTx})\n     *\n     * @deprecated this constructor alias is deprecated and will be removed\n     * in favor of the {@link Transaction.fromSerializedTx} constructor\n     */\n    static fromRlpSerializedTx(serialized, opts = {}) {\n        return Transaction.fromSerializedTx(serialized, opts);\n    }\n    /**\n     * Create a transaction from a values array.\n     *\n     * Format: `[nonce, gasPrice, gasLimit, to, value, data, v, r, s]`\n     */\n    static fromValuesArray(values, opts = {}) {\n        // If length is not 6, it has length 9. If v/r/s are empty Buffers, it is still an unsigned transaction\n        // This happens if you get the RLP data from `raw()`\n        if (values.length !== 6 && values.length !== 9) {\n            throw new Error('Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).');\n        }\n        const [nonce, gasPrice, gasLimit, to, value, data, v, r, s] = values;\n        return new Transaction({\n            nonce,\n            gasPrice,\n            gasLimit,\n            to,\n            value,\n            data,\n            v,\n            r,\n            s,\n        }, opts);\n    }\n    /**\n     * Returns a Buffer Array of the raw Buffers of the legacy transaction, in order.\n     *\n     * Format: `[nonce, gasPrice, gasLimit, to, value, data, v, r, s]`\n     *\n     * For legacy txs this is also the correct format to add transactions\n     * to a block with {@link Block.fromValuesArray} (use the `serialize()` method\n     * for typed txs).\n     *\n     * For an unsigned tx this method returns the empty Buffer values\n     * for the signature parameters `v`, `r` and `s`. For an EIP-155 compliant\n     * representation have a look at {@link Transaction.getMessageToSign}.\n     */\n    raw() {\n        return [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasPrice),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n            this.v !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.v) : Buffer.from([]),\n            this.r !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.r) : Buffer.from([]),\n            this.s !== undefined ? (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.s) : Buffer.from([]),\n        ];\n    }\n    /**\n     * Returns the serialized encoding of the legacy transaction.\n     *\n     * Format: `rlp([nonce, gasPrice, gasLimit, to, value, data, v, r, s])`\n     *\n     * For an unsigned tx this method uses the empty Buffer values for the\n     * signature parameters `v`, `r` and `s` for encoding. For an EIP-155 compliant\n     * representation for external signing use {@link Transaction.getMessageToSign}.\n     */\n    serialize() {\n        return ethereumjs_util_1.rlp.encode(this.raw());\n    }\n    _getMessageToSign() {\n        const values = [\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.nonce),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasPrice),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.gasLimit),\n            this.to !== undefined ? this.to.buf : Buffer.from([]),\n            (0, ethereumjs_util_1.bnToUnpaddedBuffer)(this.value),\n            this.data,\n        ];\n        if (this.supports(types_1.Capability.EIP155ReplayProtection)) {\n            values.push((0, ethereumjs_util_1.toBuffer)(this.common.chainIdBN()));\n            values.push((0, ethereumjs_util_1.unpadBuffer)((0, ethereumjs_util_1.toBuffer)(0)));\n            values.push((0, ethereumjs_util_1.unpadBuffer)((0, ethereumjs_util_1.toBuffer)(0)));\n        }\n        return values;\n    }\n    getMessageToSign(hashMessage = true) {\n        const message = this._getMessageToSign();\n        if (hashMessage) {\n            return (0, ethereumjs_util_1.rlphash)(message);\n        }\n        else {\n            return message;\n        }\n    }\n    /**\n     * The up front amount that an account must have for this transaction to be valid\n     */\n    getUpfrontCost() {\n        return this.gasLimit.mul(this.gasPrice).add(this.value);\n    }\n    /**\n     * Computes a sha3-256 hash of the serialized tx.\n     *\n     * This method can only be used for signed txs (it throws otherwise).\n     * Use {@link Transaction.getMessageToSign} to get a tx hash for the purpose of signing.\n     */\n    hash() {\n        // In contrast to the tx type transaction implementations the `hash()` function\n        // for the legacy tx does not throw if the tx is not signed.\n        // This has been considered for inclusion but lead to unexpected backwards\n        // compatibility problems (no concrete reference found, needs validation).\n        //\n        // For context see also https://github.com/ethereumjs/ethereumjs-monorepo/pull/1445,\n        // September, 2021 as well as work done before.\n        //\n        // This should be updated along the next major version release by adding:\n        //\n        //if (!this.isSigned()) {\n        //  throw new Error('Cannot call hash method if transaction is not signed')\n        //}\n        if (Object.isFrozen(this)) {\n            if (!this.cache.hash) {\n                this.cache.hash = (0, ethereumjs_util_1.rlphash)(this.raw());\n            }\n            return this.cache.hash;\n        }\n        return (0, ethereumjs_util_1.rlphash)(this.raw());\n    }\n    /**\n     * Computes a sha3-256 hash which can be used to verify the signature\n     */\n    getMessageToVerifySignature() {\n        if (!this.isSigned()) {\n            throw Error('This transaction is not signed');\n        }\n        const message = this._getMessageToSign();\n        return (0, ethereumjs_util_1.rlphash)(message);\n    }\n    /**\n     * Returns the public key of the sender\n     */\n    getSenderPublicKey() {\n        var _a;\n        const msgHash = this.getMessageToVerifySignature();\n        // EIP-2: All transaction signatures whose s-value is greater than secp256k1n/2 are considered invalid.\n        // Reasoning: https://ethereum.stackexchange.com/a/55728\n        if (this.common.gteHardfork('homestead') && ((_a = this.s) === null || _a === void 0 ? void 0 : _a.gt(types_1.N_DIV_2))) {\n            throw new Error('Invalid Signature: s-values greater than secp256k1n/2 are considered invalid');\n        }\n        const { v, r, s } = this;\n        try {\n            return (0, ethereumjs_util_1.ecrecover)(msgHash, v, (0, ethereumjs_util_1.bnToUnpaddedBuffer)(r), (0, ethereumjs_util_1.bnToUnpaddedBuffer)(s), this.supports(types_1.Capability.EIP155ReplayProtection) ? this.common.chainIdBN() : undefined);\n        }\n        catch (e) {\n            throw new Error('Invalid Signature');\n        }\n    }\n    /**\n     * Process the v, r, s values from the `sign` method of the base transaction.\n     */\n    _processSignature(v, r, s) {\n        const vBN = new ethereumjs_util_1.BN(v);\n        if (this.supports(types_1.Capability.EIP155ReplayProtection)) {\n            vBN.iadd(this.common.chainIdBN().muln(2).addn(8));\n        }\n        const opts = {\n            common: this.common,\n        };\n        return Transaction.fromTxData({\n            nonce: this.nonce,\n            gasPrice: this.gasPrice,\n            gasLimit: this.gasLimit,\n            to: this.to,\n            value: this.value,\n            data: this.data,\n            v: vBN,\n            r: new ethereumjs_util_1.BN(r),\n            s: new ethereumjs_util_1.BN(s),\n        }, opts);\n    }\n    /**\n     * Returns an object with the JSON representation of the transaction.\n     */\n    toJSON() {\n        return {\n            nonce: (0, ethereumjs_util_1.bnToHex)(this.nonce),\n            gasPrice: (0, ethereumjs_util_1.bnToHex)(this.gasPrice),\n            gasLimit: (0, ethereumjs_util_1.bnToHex)(this.gasLimit),\n            to: this.to !== undefined ? this.to.toString() : undefined,\n            value: (0, ethereumjs_util_1.bnToHex)(this.value),\n            data: '0x' + this.data.toString('hex'),\n            v: this.v !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.v) : undefined,\n            r: this.r !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.r) : undefined,\n            s: this.s !== undefined ? (0, ethereumjs_util_1.bnToHex)(this.s) : undefined,\n        };\n    }\n    /**\n     * Validates tx's `v` value\n     */\n    _validateTxV(v, common) {\n        let chainIdBN;\n        // No unsigned tx and EIP-155 activated and chain ID included\n        if (v !== undefined &&\n            !v.eqn(0) &&\n            (!common || common.gteHardfork('spuriousDragon')) &&\n            !v.eqn(27) &&\n            !v.eqn(28)) {\n            if (common) {\n                const chainIdDoubled = common.chainIdBN().muln(2);\n                const isValidEIP155V = v.eq(chainIdDoubled.addn(35)) || v.eq(chainIdDoubled.addn(36));\n                if (!isValidEIP155V) {\n                    throw new Error(`Incompatible EIP155-based V ${v.toString()} and chain id ${common\n                        .chainIdBN()\n                        .toString()}. See the Common parameter of the Transaction constructor to set the chain id.`);\n                }\n            }\n            else {\n                // Derive the original chain ID\n                let numSub;\n                if (v.subn(35).isEven()) {\n                    numSub = 35;\n                }\n                else {\n                    numSub = 36;\n                }\n                // Use derived chain ID to create a proper Common\n                chainIdBN = v.subn(numSub).divn(2);\n            }\n        }\n        return this._getCommon(common, chainIdBN);\n    }\n    /**\n     * @deprecated if you have called this internal method please use `tx.supports(Capabilities.EIP155ReplayProtection)` instead\n     */\n    _unsignedTxImplementsEIP155() {\n        return this.common.gteHardfork('spuriousDragon');\n    }\n    /**\n     * @deprecated if you have called this internal method please use `tx.supports(Capabilities.EIP155ReplayProtection)` instead\n     */\n    _signedTxImplementsEIP155() {\n        if (!this.isSigned()) {\n            throw Error('This transaction is not signed');\n        }\n        const onEIP155BlockOrLater = this.common.gteHardfork('spuriousDragon');\n        // EIP155 spec:\n        // If block.number >= 2,675,000 and v = CHAIN_ID * 2 + 35 or v = CHAIN_ID * 2 + 36, then when computing the hash of a transaction for purposes of signing or recovering, instead of hashing only the first six elements (i.e. nonce, gasprice, startgas, to, value, data), hash nine elements, with v replaced by CHAIN_ID, r = 0 and s = 0.\n        const v = this.v;\n        const chainIdDoubled = this.common.chainIdBN().muln(2);\n        const vAndChainIdMeetEIP155Conditions = v.eq(chainIdDoubled.addn(35)) || v.eq(chainIdDoubled.addn(36));\n        return vAndChainIdMeetEIP155Conditions && onEIP155BlockOrLater;\n    }\n}\nexports[\"default\"] = Transaction;\n//# sourceMappingURL=legacyTransaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvbGVnYWN5VHJhbnNhY3Rpb24uanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMEJBQTBCLG1CQUFPLENBQUMsb0hBQWlCO0FBQ25ELGdCQUFnQixtQkFBTyxDQUFDLDBHQUFTO0FBQ2pDLDBCQUEwQixtQkFBTyxDQUFDLDhIQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSw0Q0FBNEMsYUFBYSx3QkFBd0I7QUFDakY7QUFDQTtBQUNBLCtDQUErQyx5QkFBeUI7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1DQUFtQztBQUNyRDtBQUNBO0FBQ0Esd0JBQXdCLG9DQUFvQztBQUM1RDtBQUNBLG9EQUFvRDtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2QkFBNkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbUNBQW1DO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtQ0FBbUM7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxvQ0FBb0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixVQUFVO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsY0FBYyxlQUFlO0FBQ2hHO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9raWNrc3RhcnQvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvbGVnYWN5VHJhbnNhY3Rpb24uanM/NDMyNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmNvbnN0IGJhc2VUcmFuc2FjdGlvbl8xID0gcmVxdWlyZShcIi4vYmFzZVRyYW5zYWN0aW9uXCIpO1xuY29uc3QgVFJBTlNBQ1RJT05fVFlQRSA9IDA7XG4vKipcbiAqIEFuIEV0aGVyZXVtIG5vbi10eXBlZCAobGVnYWN5KSB0cmFuc2FjdGlvblxuICovXG5jbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIGJhc2VUcmFuc2FjdGlvbl8xLkJhc2VUcmFuc2FjdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhpcyBjb25zdHJ1Y3RvciB0YWtlcyB0aGUgdmFsdWVzLCB2YWxpZGF0ZXMgdGhlbSwgYXNzaWducyB0aGVtIGFuZCBmcmVlemVzIHRoZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBJdCBpcyBub3QgcmVjb21tZW5kZWQgdG8gdXNlIHRoaXMgY29uc3RydWN0b3IgZGlyZWN0bHkuIEluc3RlYWQgdXNlXG4gICAgICogdGhlIHN0YXRpYyBmYWN0b3J5IG1ldGhvZHMgdG8gYXNzaXN0IGluIGNyZWF0aW5nIGEgVHJhbnNhY3Rpb24gb2JqZWN0IGZyb21cbiAgICAgKiB2YXJ5aW5nIGRhdGEgdHlwZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodHhEYXRhLCBvcHRzID0ge30pIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHR4RGF0YSksIHsgdHlwZTogVFJBTlNBQ1RJT05fVFlQRSB9KSk7XG4gICAgICAgIHRoaXMuY29tbW9uID0gdGhpcy5fdmFsaWRhdGVUeFYodGhpcy52LCBvcHRzLmNvbW1vbik7XG4gICAgICAgIHRoaXMuZ2FzUHJpY2UgPSBuZXcgZXRoZXJldW1qc191dGlsXzEuQk4oKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKSh0eERhdGEuZ2FzUHJpY2UgPT09ICcnID8gJzB4JyA6IHR4RGF0YS5nYXNQcmljZSkpO1xuICAgICAgICB0aGlzLl92YWxpZGF0ZUNhbm5vdEV4Y2VlZE1heEludGVnZXIoeyBnYXNQcmljZTogdGhpcy5nYXNQcmljZSB9KTtcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdzcHVyaW91c0RyYWdvbicpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNTaWduZWQoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlQ2FwYWJpbGl0aWVzLnB1c2godHlwZXNfMS5DYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRUlQMTU1IHNwZWM6XG4gICAgICAgICAgICAgICAgLy8gSWYgYmxvY2subnVtYmVyID49IDIsNjc1LDAwMCBhbmQgdiA9IENIQUlOX0lEICogMiArIDM1IG9yIHYgPSBDSEFJTl9JRCAqIDIgKyAzNlxuICAgICAgICAgICAgICAgIC8vIHRoZW4gd2hlbiBjb21wdXRpbmcgdGhlIGhhc2ggb2YgYSB0cmFuc2FjdGlvbiBmb3IgcHVycG9zZXMgb2Ygc2lnbmluZyBvciByZWNvdmVyaW5nXG4gICAgICAgICAgICAgICAgLy8gaW5zdGVhZCBvZiBoYXNoaW5nIG9ubHkgdGhlIGZpcnN0IHNpeCBlbGVtZW50cyAoaS5lLiBub25jZSwgZ2FzcHJpY2UsIHN0YXJ0Z2FzLCB0bywgdmFsdWUsIGRhdGEpXG4gICAgICAgICAgICAgICAgLy8gaGFzaCBuaW5lIGVsZW1lbnRzLCB3aXRoIHYgcmVwbGFjZWQgYnkgQ0hBSU5fSUQsIHIgPSAwIGFuZCBzID0gMC5cbiAgICAgICAgICAgICAgICBjb25zdCB2ID0gdGhpcy52O1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluSWREb3VibGVkID0gdGhpcy5jb21tb24uY2hhaW5JZEJOKCkubXVsbigyKTtcbiAgICAgICAgICAgICAgICAvLyB2IGFuZCBjaGFpbiBJRCBtZWV0IEVJUC0xNTUgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIGlmICh2LmVxKGNoYWluSWREb3VibGVkLmFkZG4oMzUpKSB8fCB2LmVxKGNoYWluSWREb3VibGVkLmFkZG4oMzYpKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUNhcGFiaWxpdGllcy5wdXNoKHR5cGVzXzEuQ2FwYWJpbGl0eS5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJlZXplID0gKF9hID0gb3B0cyA9PT0gbnVsbCB8fCBvcHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRzLmZyZWV6ZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdHJ1ZTtcbiAgICAgICAgaWYgKGZyZWV6ZSkge1xuICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gYSBkYXRhIGRpY3Rpb25hcnkuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IHsgbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzIH1cbiAgICAgKlxuICAgICAqIE5vdGVzOlxuICAgICAqIC0gQWxsIHBhcmFtZXRlcnMgYXJlIG9wdGlvbmFsIGFuZCBoYXZlIHNvbWUgYmFzaWMgZGVmYXVsdCB2YWx1ZXNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVR4RGF0YSh0eERhdGEsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKHR4RGF0YSwgb3B0cyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluc3RhbnRpYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYHJscChbbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzXSlgXG4gICAgICovXG4gICAgc3RhdGljIGZyb21TZXJpYWxpemVkVHgoc2VyaWFsaXplZCwgb3B0cyA9IHt9KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGV0aGVyZXVtanNfdXRpbF8xLnJscC5kZWNvZGUoc2VyaWFsaXplZCk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2VyaWFsaXplZCB0eCBpbnB1dC4gTXVzdCBiZSBhcnJheScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZyb21WYWx1ZXNBcnJheSh2YWx1ZXMsIG9wdHMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbnN0YW50aWF0ZSBhIHRyYW5zYWN0aW9uIGZyb20gdGhlIHNlcmlhbGl6ZWQgdHguXG4gICAgICogKGFsaWFzIG9mIHtAbGluayBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4fSlcbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIHRoaXMgY29uc3RydWN0b3IgYWxpYXMgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkXG4gICAgICogaW4gZmF2b3Igb2YgdGhlIHtAbGluayBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4fSBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tUmxwU2VyaWFsaXplZFR4KHNlcmlhbGl6ZWQsIG9wdHMgPSB7fSkge1xuICAgICAgICByZXR1cm4gVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeChzZXJpYWxpemVkLCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdHJhbnNhY3Rpb24gZnJvbSBhIHZhbHVlcyBhcnJheS5cbiAgICAgKlxuICAgICAqIEZvcm1hdDogYFtub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHNdYFxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVmFsdWVzQXJyYXkodmFsdWVzLCBvcHRzID0ge30pIHtcbiAgICAgICAgLy8gSWYgbGVuZ3RoIGlzIG5vdCA2LCBpdCBoYXMgbGVuZ3RoIDkuIElmIHYvci9zIGFyZSBlbXB0eSBCdWZmZXJzLCBpdCBpcyBzdGlsbCBhbiB1bnNpZ25lZCB0cmFuc2FjdGlvblxuICAgICAgICAvLyBUaGlzIGhhcHBlbnMgaWYgeW91IGdldCB0aGUgUkxQIGRhdGEgZnJvbSBgcmF3KClgXG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoICE9PSA2ICYmIHZhbHVlcy5sZW5ndGggIT09IDkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB0cmFuc2FjdGlvbi4gT25seSBleHBlY3RpbmcgNiB2YWx1ZXMgKGZvciB1bnNpZ25lZCB0eCkgb3IgOSB2YWx1ZXMgKGZvciBzaWduZWQgdHgpLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtub25jZSwgZ2FzUHJpY2UsIGdhc0xpbWl0LCB0bywgdmFsdWUsIGRhdGEsIHYsIHIsIHNdID0gdmFsdWVzO1xuICAgICAgICByZXR1cm4gbmV3IFRyYW5zYWN0aW9uKHtcbiAgICAgICAgICAgIG5vbmNlLFxuICAgICAgICAgICAgZ2FzUHJpY2UsXG4gICAgICAgICAgICBnYXNMaW1pdCxcbiAgICAgICAgICAgIHRvLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgdixcbiAgICAgICAgICAgIHIsXG4gICAgICAgICAgICBzLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIEJ1ZmZlciBBcnJheSBvZiB0aGUgcmF3IEJ1ZmZlcnMgb2YgdGhlIGxlZ2FjeSB0cmFuc2FjdGlvbiwgaW4gb3JkZXIuXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGBbbm9uY2UsIGdhc1ByaWNlLCBnYXNMaW1pdCwgdG8sIHZhbHVlLCBkYXRhLCB2LCByLCBzXWBcbiAgICAgKlxuICAgICAqIEZvciBsZWdhY3kgdHhzIHRoaXMgaXMgYWxzbyB0aGUgY29ycmVjdCBmb3JtYXQgdG8gYWRkIHRyYW5zYWN0aW9uc1xuICAgICAqIHRvIGEgYmxvY2sgd2l0aCB7QGxpbmsgQmxvY2suZnJvbVZhbHVlc0FycmF5fSAodXNlIHRoZSBgc2VyaWFsaXplKClgIG1ldGhvZFxuICAgICAqIGZvciB0eXBlZCB0eHMpLlxuICAgICAqXG4gICAgICogRm9yIGFuIHVuc2lnbmVkIHR4IHRoaXMgbWV0aG9kIHJldHVybnMgdGhlIGVtcHR5IEJ1ZmZlciB2YWx1ZXNcbiAgICAgKiBmb3IgdGhlIHNpZ25hdHVyZSBwYXJhbWV0ZXJzIGB2YCwgYHJgIGFuZCBgc2AuIEZvciBhbiBFSVAtMTU1IGNvbXBsaWFudFxuICAgICAqIHJlcHJlc2VudGF0aW9uIGhhdmUgYSBsb29rIGF0IHtAbGluayBUcmFuc2FjdGlvbi5nZXRNZXNzYWdlVG9TaWdufS5cbiAgICAgKi9cbiAgICByYXcoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuZ2FzUHJpY2UpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ1ZiA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICAgICAgdGhpcy52ICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnYpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5yICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnIpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICAgICAgdGhpcy5zICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLnMpIDogQnVmZmVyLmZyb20oW10pLFxuICAgICAgICBdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBzZXJpYWxpemVkIGVuY29kaW5nIG9mIHRoZSBsZWdhY3kgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBGb3JtYXQ6IGBybHAoW25vbmNlLCBnYXNQcmljZSwgZ2FzTGltaXQsIHRvLCB2YWx1ZSwgZGF0YSwgdiwgciwgc10pYFxuICAgICAqXG4gICAgICogRm9yIGFuIHVuc2lnbmVkIHR4IHRoaXMgbWV0aG9kIHVzZXMgdGhlIGVtcHR5IEJ1ZmZlciB2YWx1ZXMgZm9yIHRoZVxuICAgICAqIHNpZ25hdHVyZSBwYXJhbWV0ZXJzIGB2YCwgYHJgIGFuZCBgc2AgZm9yIGVuY29kaW5nLiBGb3IgYW4gRUlQLTE1NSBjb21wbGlhbnRcbiAgICAgKiByZXByZXNlbnRhdGlvbiBmb3IgZXh0ZXJuYWwgc2lnbmluZyB1c2Uge0BsaW5rIFRyYW5zYWN0aW9uLmdldE1lc3NhZ2VUb1NpZ259LlxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIGV0aGVyZXVtanNfdXRpbF8xLnJscC5lbmNvZGUodGhpcy5yYXcoKSk7XG4gICAgfVxuICAgIF9nZXRNZXNzYWdlVG9TaWduKCkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXG4gICAgICAgICAgICAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMuZ2FzUHJpY2UpLFxuICAgICAgICAgICAgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikodGhpcy5nYXNMaW1pdCksXG4gICAgICAgICAgICB0aGlzLnRvICE9PSB1bmRlZmluZWQgPyB0aGlzLnRvLmJ1ZiA6IEJ1ZmZlci5mcm9tKFtdKSxcbiAgICAgICAgICAgICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvVW5wYWRkZWRCdWZmZXIpKHRoaXMudmFsdWUpLFxuICAgICAgICAgICAgdGhpcy5kYXRhLFxuICAgICAgICBdO1xuICAgICAgICBpZiAodGhpcy5zdXBwb3J0cyh0eXBlc18xLkNhcGFiaWxpdHkuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbikpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikodGhpcy5jb21tb24uY2hhaW5JZEJOKCkpKTtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKCgwLCBldGhlcmV1bWpzX3V0aWxfMS51bnBhZEJ1ZmZlcikoKDAsIGV0aGVyZXVtanNfdXRpbF8xLnRvQnVmZmVyKSgwKSkpO1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goKDAsIGV0aGVyZXVtanNfdXRpbF8xLnVucGFkQnVmZmVyKSgoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKDApKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG4gICAgZ2V0TWVzc2FnZVRvU2lnbihoYXNoTWVzc2FnZSA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuX2dldE1lc3NhZ2VUb1NpZ24oKTtcbiAgICAgICAgaWYgKGhhc2hNZXNzYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIGV0aGVyZXVtanNfdXRpbF8xLnJscGhhc2gpKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHVwIGZyb250IGFtb3VudCB0aGF0IGFuIGFjY291bnQgbXVzdCBoYXZlIGZvciB0aGlzIHRyYW5zYWN0aW9uIHRvIGJlIHZhbGlkXG4gICAgICovXG4gICAgZ2V0VXBmcm9udENvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdhc0xpbWl0Lm11bCh0aGlzLmdhc1ByaWNlKS5hZGQodGhpcy52YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCBvZiB0aGUgc2VyaWFsaXplZCB0eC5cbiAgICAgKlxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBvbmx5IGJlIHVzZWQgZm9yIHNpZ25lZCB0eHMgKGl0IHRocm93cyBvdGhlcndpc2UpLlxuICAgICAqIFVzZSB7QGxpbmsgVHJhbnNhY3Rpb24uZ2V0TWVzc2FnZVRvU2lnbn0gdG8gZ2V0IGEgdHggaGFzaCBmb3IgdGhlIHB1cnBvc2Ugb2Ygc2lnbmluZy5cbiAgICAgKi9cbiAgICBoYXNoKCkge1xuICAgICAgICAvLyBJbiBjb250cmFzdCB0byB0aGUgdHggdHlwZSB0cmFuc2FjdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhlIGBoYXNoKClgIGZ1bmN0aW9uXG4gICAgICAgIC8vIGZvciB0aGUgbGVnYWN5IHR4IGRvZXMgbm90IHRocm93IGlmIHRoZSB0eCBpcyBub3Qgc2lnbmVkLlxuICAgICAgICAvLyBUaGlzIGhhcyBiZWVuIGNvbnNpZGVyZWQgZm9yIGluY2x1c2lvbiBidXQgbGVhZCB0byB1bmV4cGVjdGVkIGJhY2t3YXJkc1xuICAgICAgICAvLyBjb21wYXRpYmlsaXR5IHByb2JsZW1zIChubyBjb25jcmV0ZSByZWZlcmVuY2UgZm91bmQsIG5lZWRzIHZhbGlkYXRpb24pLlxuICAgICAgICAvL1xuICAgICAgICAvLyBGb3IgY29udGV4dCBzZWUgYWxzbyBodHRwczovL2dpdGh1Yi5jb20vZXRoZXJldW1qcy9ldGhlcmV1bWpzLW1vbm9yZXBvL3B1bGwvMTQ0NSxcbiAgICAgICAgLy8gU2VwdGVtYmVyLCAyMDIxIGFzIHdlbGwgYXMgd29yayBkb25lIGJlZm9yZS5cbiAgICAgICAgLy9cbiAgICAgICAgLy8gVGhpcyBzaG91bGQgYmUgdXBkYXRlZCBhbG9uZyB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIHJlbGVhc2UgYnkgYWRkaW5nOlxuICAgICAgICAvL1xuICAgICAgICAvL2lmICghdGhpcy5pc1NpZ25lZCgpKSB7XG4gICAgICAgIC8vICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxsIGhhc2ggbWV0aG9kIGlmIHRyYW5zYWN0aW9uIGlzIG5vdCBzaWduZWQnKVxuICAgICAgICAvL31cbiAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbih0aGlzKSkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNhY2hlLmhhc2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlLmhhc2ggPSAoMCwgZXRoZXJldW1qc191dGlsXzEucmxwaGFzaCkodGhpcy5yYXcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWNoZS5oYXNoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEucmxwaGFzaCkodGhpcy5yYXcoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIGEgc2hhMy0yNTYgaGFzaCB3aGljaCBjYW4gYmUgdXNlZCB0byB2ZXJpZnkgdGhlIHNpZ25hdHVyZVxuICAgICAqL1xuICAgIGdldE1lc3NhZ2VUb1ZlcmlmeVNpZ25hdHVyZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU2lnbmVkKCkpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGlzIHRyYW5zYWN0aW9uIGlzIG5vdCBzaWduZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGhpcy5fZ2V0TWVzc2FnZVRvU2lnbigpO1xuICAgICAgICByZXR1cm4gKDAsIGV0aGVyZXVtanNfdXRpbF8xLnJscGhhc2gpKG1lc3NhZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwdWJsaWMga2V5IG9mIHRoZSBzZW5kZXJcbiAgICAgKi9cbiAgICBnZXRTZW5kZXJQdWJsaWNLZXkoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgbXNnSGFzaCA9IHRoaXMuZ2V0TWVzc2FnZVRvVmVyaWZ5U2lnbmF0dXJlKCk7XG4gICAgICAgIC8vIEVJUC0yOiBBbGwgdHJhbnNhY3Rpb24gc2lnbmF0dXJlcyB3aG9zZSBzLXZhbHVlIGlzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZC5cbiAgICAgICAgLy8gUmVhc29uaW5nOiBodHRwczovL2V0aGVyZXVtLnN0YWNrZXhjaGFuZ2UuY29tL2EvNTU3MjhcbiAgICAgICAgaWYgKHRoaXMuY29tbW9uLmd0ZUhhcmRmb3JrKCdob21lc3RlYWQnKSAmJiAoKF9hID0gdGhpcy5zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZ3QodHlwZXNfMS5OX0RJVl8yKSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTaWduYXR1cmU6IHMtdmFsdWVzIGdyZWF0ZXIgdGhhbiBzZWNwMjU2azFuLzIgYXJlIGNvbnNpZGVyZWQgaW52YWxpZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgdiwgciwgcyB9ID0gdGhpcztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgZXRoZXJldW1qc191dGlsXzEuZWNyZWNvdmVyKShtc2dIYXNoLCB2LCAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub1VucGFkZGVkQnVmZmVyKShyKSwgKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9VbnBhZGRlZEJ1ZmZlcikocyksIHRoaXMuc3VwcG9ydHModHlwZXNfMS5DYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pID8gdGhpcy5jb21tb24uY2hhaW5JZEJOKCkgOiB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgU2lnbmF0dXJlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2VzcyB0aGUgdiwgciwgcyB2YWx1ZXMgZnJvbSB0aGUgYHNpZ25gIG1ldGhvZCBvZiB0aGUgYmFzZSB0cmFuc2FjdGlvbi5cbiAgICAgKi9cbiAgICBfcHJvY2Vzc1NpZ25hdHVyZSh2LCByLCBzKSB7XG4gICAgICAgIGNvbnN0IHZCTiA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTih2KTtcbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydHModHlwZXNfMS5DYXBhYmlsaXR5LkVJUDE1NVJlcGxheVByb3RlY3Rpb24pKSB7XG4gICAgICAgICAgICB2Qk4uaWFkZCh0aGlzLmNvbW1vbi5jaGFpbklkQk4oKS5tdWxuKDIpLmFkZG4oOCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgICAgICBjb21tb246IHRoaXMuY29tbW9uLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gVHJhbnNhY3Rpb24uZnJvbVR4RGF0YSh7XG4gICAgICAgICAgICBub25jZTogdGhpcy5ub25jZSxcbiAgICAgICAgICAgIGdhc1ByaWNlOiB0aGlzLmdhc1ByaWNlLFxuICAgICAgICAgICAgZ2FzTGltaXQ6IHRoaXMuZ2FzTGltaXQsXG4gICAgICAgICAgICB0bzogdGhpcy50byxcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLnZhbHVlLFxuICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgICAgdjogdkJOLFxuICAgICAgICAgICAgcjogbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHIpLFxuICAgICAgICAgICAgczogbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKHMpLFxuICAgICAgICB9LCBvcHRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBvYmplY3Qgd2l0aCB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBvZiB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICovXG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm9uY2U6ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLm5vbmNlKSxcbiAgICAgICAgICAgIGdhc1ByaWNlOiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5nYXNQcmljZSksXG4gICAgICAgICAgICBnYXNMaW1pdDogKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMuZ2FzTGltaXQpLFxuICAgICAgICAgICAgdG86IHRoaXMudG8gIT09IHVuZGVmaW5lZCA/IHRoaXMudG8udG9TdHJpbmcoKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZhbHVlOiAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy52YWx1ZSksXG4gICAgICAgICAgICBkYXRhOiAnMHgnICsgdGhpcy5kYXRhLnRvU3RyaW5nKCdoZXgnKSxcbiAgICAgICAgICAgIHY6IHRoaXMudiAhPT0gdW5kZWZpbmVkID8gKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJuVG9IZXgpKHRoaXMudikgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICByOiB0aGlzLnIgIT09IHVuZGVmaW5lZCA/ICgwLCBldGhlcmV1bWpzX3V0aWxfMS5iblRvSGV4KSh0aGlzLnIpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgczogdGhpcy5zICE9PSB1bmRlZmluZWQgPyAoMCwgZXRoZXJldW1qc191dGlsXzEuYm5Ub0hleCkodGhpcy5zKSA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHR4J3MgYHZgIHZhbHVlXG4gICAgICovXG4gICAgX3ZhbGlkYXRlVHhWKHYsIGNvbW1vbikge1xuICAgICAgICBsZXQgY2hhaW5JZEJOO1xuICAgICAgICAvLyBObyB1bnNpZ25lZCB0eCBhbmQgRUlQLTE1NSBhY3RpdmF0ZWQgYW5kIGNoYWluIElEIGluY2x1ZGVkXG4gICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICF2LmVxbigwKSAmJlxuICAgICAgICAgICAgKCFjb21tb24gfHwgY29tbW9uLmd0ZUhhcmRmb3JrKCdzcHVyaW91c0RyYWdvbicpKSAmJlxuICAgICAgICAgICAgIXYuZXFuKDI3KSAmJlxuICAgICAgICAgICAgIXYuZXFuKDI4KSkge1xuICAgICAgICAgICAgaWYgKGNvbW1vbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYWluSWREb3VibGVkID0gY29tbW9uLmNoYWluSWRCTigpLm11bG4oMik7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNWYWxpZEVJUDE1NVYgPSB2LmVxKGNoYWluSWREb3VibGVkLmFkZG4oMzUpKSB8fCB2LmVxKGNoYWluSWREb3VibGVkLmFkZG4oMzYpKTtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRFSVAxNTVWKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW5jb21wYXRpYmxlIEVJUDE1NS1iYXNlZCBWICR7di50b1N0cmluZygpfSBhbmQgY2hhaW4gaWQgJHtjb21tb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFpbklkQk4oKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRvU3RyaW5nKCl9LiBTZWUgdGhlIENvbW1vbiBwYXJhbWV0ZXIgb2YgdGhlIFRyYW5zYWN0aW9uIGNvbnN0cnVjdG9yIHRvIHNldCB0aGUgY2hhaW4gaWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRGVyaXZlIHRoZSBvcmlnaW5hbCBjaGFpbiBJRFxuICAgICAgICAgICAgICAgIGxldCBudW1TdWI7XG4gICAgICAgICAgICAgICAgaWYgKHYuc3VibigzNSkuaXNFdmVuKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtU3ViID0gMzU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBudW1TdWIgPSAzNjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXNlIGRlcml2ZWQgY2hhaW4gSUQgdG8gY3JlYXRlIGEgcHJvcGVyIENvbW1vblxuICAgICAgICAgICAgICAgIGNoYWluSWRCTiA9IHYuc3VibihudW1TdWIpLmRpdm4oMik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENvbW1vbihjb21tb24sIGNoYWluSWRCTik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkIGlmIHlvdSBoYXZlIGNhbGxlZCB0aGlzIGludGVybmFsIG1ldGhvZCBwbGVhc2UgdXNlIGB0eC5zdXBwb3J0cyhDYXBhYmlsaXRpZXMuRUlQMTU1UmVwbGF5UHJvdGVjdGlvbilgIGluc3RlYWRcbiAgICAgKi9cbiAgICBfdW5zaWduZWRUeEltcGxlbWVudHNFSVAxNTUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbW1vbi5ndGVIYXJkZm9yaygnc3B1cmlvdXNEcmFnb24nKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgaWYgeW91IGhhdmUgY2FsbGVkIHRoaXMgaW50ZXJuYWwgbWV0aG9kIHBsZWFzZSB1c2UgYHR4LnN1cHBvcnRzKENhcGFiaWxpdGllcy5FSVAxNTVSZXBsYXlQcm90ZWN0aW9uKWAgaW5zdGVhZFxuICAgICAqL1xuICAgIF9zaWduZWRUeEltcGxlbWVudHNFSVAxNTUoKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1NpZ25lZCgpKSB7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcignVGhpcyB0cmFuc2FjdGlvbiBpcyBub3Qgc2lnbmVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb25FSVAxNTVCbG9ja09yTGF0ZXIgPSB0aGlzLmNvbW1vbi5ndGVIYXJkZm9yaygnc3B1cmlvdXNEcmFnb24nKTtcbiAgICAgICAgLy8gRUlQMTU1IHNwZWM6XG4gICAgICAgIC8vIElmIGJsb2NrLm51bWJlciA+PSAyLDY3NSwwMDAgYW5kIHYgPSBDSEFJTl9JRCAqIDIgKyAzNSBvciB2ID0gQ0hBSU5fSUQgKiAyICsgMzYsIHRoZW4gd2hlbiBjb21wdXRpbmcgdGhlIGhhc2ggb2YgYSB0cmFuc2FjdGlvbiBmb3IgcHVycG9zZXMgb2Ygc2lnbmluZyBvciByZWNvdmVyaW5nLCBpbnN0ZWFkIG9mIGhhc2hpbmcgb25seSB0aGUgZmlyc3Qgc2l4IGVsZW1lbnRzIChpLmUuIG5vbmNlLCBnYXNwcmljZSwgc3RhcnRnYXMsIHRvLCB2YWx1ZSwgZGF0YSksIGhhc2ggbmluZSBlbGVtZW50cywgd2l0aCB2IHJlcGxhY2VkIGJ5IENIQUlOX0lELCByID0gMCBhbmQgcyA9IDAuXG4gICAgICAgIGNvbnN0IHYgPSB0aGlzLnY7XG4gICAgICAgIGNvbnN0IGNoYWluSWREb3VibGVkID0gdGhpcy5jb21tb24uY2hhaW5JZEJOKCkubXVsbigyKTtcbiAgICAgICAgY29uc3QgdkFuZENoYWluSWRNZWV0RUlQMTU1Q29uZGl0aW9ucyA9IHYuZXEoY2hhaW5JZERvdWJsZWQuYWRkbigzNSkpIHx8IHYuZXEoY2hhaW5JZERvdWJsZWQuYWRkbigzNikpO1xuICAgICAgICByZXR1cm4gdkFuZENoYWluSWRNZWV0RUlQMTU1Q29uZGl0aW9ucyAmJiBvbkVJUDE1NUJsb2NrT3JMYXRlcjtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBUcmFuc2FjdGlvbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxlZ2FjeVRyYW5zYWN0aW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/legacyTransaction.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/transactionFactory.js":
/*!********************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/transactionFactory.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\nconst _1 = __webpack_require__(/*! . */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/index.js\");\nclass TransactionFactory {\n    // It is not possible to instantiate a TransactionFactory object.\n    constructor() { }\n    /**\n     * Create a transaction from a `txData` object\n     *\n     * @param txData - The transaction data. The `type` field will determine which transaction type is returned (if undefined, creates a legacy transaction)\n     * @param txOptions - Options to pass on to the constructor of the transaction\n     */\n    static fromTxData(txData, txOptions = {}) {\n        if (!('type' in txData) || txData.type === undefined) {\n            // Assume legacy transaction\n            return _1.Transaction.fromTxData(txData, txOptions);\n        }\n        else {\n            const txType = new ethereumjs_util_1.BN((0, ethereumjs_util_1.toBuffer)(txData.type)).toNumber();\n            if (txType === 0) {\n                return _1.Transaction.fromTxData(txData, txOptions);\n            }\n            else if (txType === 1) {\n                return _1.AccessListEIP2930Transaction.fromTxData(txData, txOptions);\n            }\n            else if (txType === 2) {\n                return _1.FeeMarketEIP1559Transaction.fromTxData(txData, txOptions);\n            }\n            else {\n                throw new Error(`Tx instantiation with type ${txType} not supported`);\n            }\n        }\n    }\n    /**\n     * This method tries to decode serialized data.\n     *\n     * @param data - The data Buffer\n     * @param txOptions - The transaction options\n     */\n    static fromSerializedData(data, txOptions = {}) {\n        if (data[0] <= 0x7f) {\n            // Determine the type.\n            let EIP;\n            switch (data[0]) {\n                case 1:\n                    EIP = 2930;\n                    break;\n                case 2:\n                    EIP = 1559;\n                    break;\n                default:\n                    throw new Error(`TypedTransaction with ID ${data[0]} unknown`);\n            }\n            if (EIP === 1559) {\n                return _1.FeeMarketEIP1559Transaction.fromSerializedTx(data, txOptions);\n            }\n            else {\n                // EIP === 2930\n                return _1.AccessListEIP2930Transaction.fromSerializedTx(data, txOptions);\n            }\n        }\n        else {\n            return _1.Transaction.fromSerializedTx(data, txOptions);\n        }\n    }\n    /**\n     * When decoding a BlockBody, in the transactions field, a field is either:\n     * A Buffer (a TypedTransaction - encoded as TransactionType || rlp(TransactionPayload))\n     * A Buffer[] (Legacy Transaction)\n     * This method returns the right transaction.\n     *\n     * @param data - A Buffer or Buffer[]\n     * @param txOptions - The transaction options\n     */\n    static fromBlockBodyData(data, txOptions = {}) {\n        if (Buffer.isBuffer(data)) {\n            return this.fromSerializedData(data, txOptions);\n        }\n        else if (Array.isArray(data)) {\n            // It is a legacy transaction\n            return _1.Transaction.fromValuesArray(data, txOptions);\n        }\n        else {\n            throw new Error('Cannot decode transaction: unknown type input');\n        }\n    }\n    /**\n     * This helper method allows one to retrieve the class which matches the transactionID\n     * If transactionID is undefined, returns the legacy transaction class.\n     * @deprecated - This method is deprecated and will be removed on the next major release\n     * @param transactionID\n     * @param _common - This option is not used\n     */\n    static getTransactionClass(transactionID = 0, _common) {\n        const legacyTxn = transactionID == 0 || (transactionID >= 0x80 && transactionID <= 0xff);\n        if (legacyTxn) {\n            return _1.Transaction;\n        }\n        switch (transactionID) {\n            case 1:\n                return _1.AccessListEIP2930Transaction;\n            case 2:\n                return _1.FeeMarketEIP1559Transaction;\n            default:\n                throw new Error(`TypedTransaction with ID ${transactionID} unknown`);\n        }\n    }\n}\nexports[\"default\"] = TransactionFactory;\n//# sourceMappingURL=transactionFactory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvdHJhbnNhY3Rpb25GYWN0b3J5LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBCQUEwQixtQkFBTyxDQUFDLG9IQUFpQjtBQUNuRCxXQUFXLG1CQUFPLENBQUMsb0dBQUc7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELFFBQVE7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsU0FBUztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELGVBQWU7QUFDM0U7QUFDQTtBQUNBO0FBQ0Esa0JBQWU7QUFDZiIsInNvdXJjZXMiOlsid2VicGFjazovL2tpY2tzdGFydC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEAzLjMuMi9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC90cmFuc2FjdGlvbkZhY3RvcnkuanM/OTEyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGV0aGVyZXVtanNfdXRpbF8xID0gcmVxdWlyZShcImV0aGVyZXVtanMtdXRpbFwiKTtcbmNvbnN0IF8xID0gcmVxdWlyZShcIi5cIik7XG5jbGFzcyBUcmFuc2FjdGlvbkZhY3Rvcnkge1xuICAgIC8vIEl0IGlzIG5vdCBwb3NzaWJsZSB0byBpbnN0YW50aWF0ZSBhIFRyYW5zYWN0aW9uRmFjdG9yeSBvYmplY3QuXG4gICAgY29uc3RydWN0b3IoKSB7IH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0cmFuc2FjdGlvbiBmcm9tIGEgYHR4RGF0YWAgb2JqZWN0XG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHhEYXRhIC0gVGhlIHRyYW5zYWN0aW9uIGRhdGEuIFRoZSBgdHlwZWAgZmllbGQgd2lsbCBkZXRlcm1pbmUgd2hpY2ggdHJhbnNhY3Rpb24gdHlwZSBpcyByZXR1cm5lZCAoaWYgdW5kZWZpbmVkLCBjcmVhdGVzIGEgbGVnYWN5IHRyYW5zYWN0aW9uKVxuICAgICAqIEBwYXJhbSB0eE9wdGlvbnMgLSBPcHRpb25zIHRvIHBhc3Mgb24gdG8gdGhlIGNvbnN0cnVjdG9yIG9mIHRoZSB0cmFuc2FjdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVHhEYXRhKHR4RGF0YSwgdHhPcHRpb25zID0ge30pIHtcbiAgICAgICAgaWYgKCEoJ3R5cGUnIGluIHR4RGF0YSkgfHwgdHhEYXRhLnR5cGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gQXNzdW1lIGxlZ2FjeSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgcmV0dXJuIF8xLlRyYW5zYWN0aW9uLmZyb21UeERhdGEodHhEYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdHhUeXBlID0gbmV3IGV0aGVyZXVtanNfdXRpbF8xLkJOKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikodHhEYXRhLnR5cGUpKS50b051bWJlcigpO1xuICAgICAgICAgICAgaWYgKHR4VHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfMS5UcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHR4RGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR4VHlwZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfMS5BY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uLmZyb21UeERhdGEodHhEYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHhUeXBlID09PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8xLkZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tVHhEYXRhKHR4RGF0YSwgdHhPcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHggaW5zdGFudGlhdGlvbiB3aXRoIHR5cGUgJHt0eFR5cGV9IG5vdCBzdXBwb3J0ZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCB0cmllcyB0byBkZWNvZGUgc2VyaWFsaXplZCBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSBCdWZmZXJcbiAgICAgKiBAcGFyYW0gdHhPcHRpb25zIC0gVGhlIHRyYW5zYWN0aW9uIG9wdGlvbnNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVNlcmlhbGl6ZWREYXRhKGRhdGEsIHR4T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChkYXRhWzBdIDw9IDB4N2YpIHtcbiAgICAgICAgICAgIC8vIERldGVybWluZSB0aGUgdHlwZS5cbiAgICAgICAgICAgIGxldCBFSVA7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGFbMF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIEVJUCA9IDI5MzA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgRUlQID0gMTU1OTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUeXBlZFRyYW5zYWN0aW9uIHdpdGggSUQgJHtkYXRhWzBdfSB1bmtub3duYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoRUlQID09PSAxNTU5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF8xLkZlZU1hcmtldEVJUDE1NTlUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4KGRhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBFSVAgPT09IDI5MzBcbiAgICAgICAgICAgICAgICByZXR1cm4gXzEuQWNjZXNzTGlzdEVJUDI5MzBUcmFuc2FjdGlvbi5mcm9tU2VyaWFsaXplZFR4KGRhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gXzEuVHJhbnNhY3Rpb24uZnJvbVNlcmlhbGl6ZWRUeChkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZW4gZGVjb2RpbmcgYSBCbG9ja0JvZHksIGluIHRoZSB0cmFuc2FjdGlvbnMgZmllbGQsIGEgZmllbGQgaXMgZWl0aGVyOlxuICAgICAqIEEgQnVmZmVyIChhIFR5cGVkVHJhbnNhY3Rpb24gLSBlbmNvZGVkIGFzIFRyYW5zYWN0aW9uVHlwZSB8fCBybHAoVHJhbnNhY3Rpb25QYXlsb2FkKSlcbiAgICAgKiBBIEJ1ZmZlcltdIChMZWdhY3kgVHJhbnNhY3Rpb24pXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgcmlnaHQgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSAtIEEgQnVmZmVyIG9yIEJ1ZmZlcltdXG4gICAgICogQHBhcmFtIHR4T3B0aW9ucyAtIFRoZSB0cmFuc2FjdGlvbiBvcHRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGZyb21CbG9ja0JvZHlEYXRhKGRhdGEsIHR4T3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIGlmIChCdWZmZXIuaXNCdWZmZXIoZGF0YSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21TZXJpYWxpemVkRGF0YShkYXRhLCB0eE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgIC8vIEl0IGlzIGEgbGVnYWN5IHRyYW5zYWN0aW9uXG4gICAgICAgICAgICByZXR1cm4gXzEuVHJhbnNhY3Rpb24uZnJvbVZhbHVlc0FycmF5KGRhdGEsIHR4T3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBkZWNvZGUgdHJhbnNhY3Rpb246IHVua25vd24gdHlwZSBpbnB1dCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgaGVscGVyIG1ldGhvZCBhbGxvd3Mgb25lIHRvIHJldHJpZXZlIHRoZSBjbGFzcyB3aGljaCBtYXRjaGVzIHRoZSB0cmFuc2FjdGlvbklEXG4gICAgICogSWYgdHJhbnNhY3Rpb25JRCBpcyB1bmRlZmluZWQsIHJldHVybnMgdGhlIGxlZ2FjeSB0cmFuc2FjdGlvbiBjbGFzcy5cbiAgICAgKiBAZGVwcmVjYXRlZCAtIFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBvbiB0aGUgbmV4dCBtYWpvciByZWxlYXNlXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uSURcbiAgICAgKiBAcGFyYW0gX2NvbW1vbiAtIFRoaXMgb3B0aW9uIGlzIG5vdCB1c2VkXG4gICAgICovXG4gICAgc3RhdGljIGdldFRyYW5zYWN0aW9uQ2xhc3ModHJhbnNhY3Rpb25JRCA9IDAsIF9jb21tb24pIHtcbiAgICAgICAgY29uc3QgbGVnYWN5VHhuID0gdHJhbnNhY3Rpb25JRCA9PSAwIHx8ICh0cmFuc2FjdGlvbklEID49IDB4ODAgJiYgdHJhbnNhY3Rpb25JRCA8PSAweGZmKTtcbiAgICAgICAgaWYgKGxlZ2FjeVR4bikge1xuICAgICAgICAgICAgcmV0dXJuIF8xLlRyYW5zYWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHJhbnNhY3Rpb25JRCkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHJldHVybiBfMS5BY2Nlc3NMaXN0RUlQMjkzMFRyYW5zYWN0aW9uO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHJldHVybiBfMS5GZWVNYXJrZXRFSVAxNTU5VHJhbnNhY3Rpb247XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVHlwZWRUcmFuc2FjdGlvbiB3aXRoIElEICR7dHJhbnNhY3Rpb25JRH0gdW5rbm93bmApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5kZWZhdWx0ID0gVHJhbnNhY3Rpb25GYWN0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNhY3Rpb25GYWN0b3J5LmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/transactionFactory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js":
/*!*******************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.N_DIV_2 = exports.isAccessList = exports.isAccessListBuffer = exports.Capability = void 0;\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\n/**\n * Can be used in conjunction with {@link Transaction.supports}\n * to query on tx capabilities\n */\nvar Capability;\n(function (Capability) {\n    /**\n     * Tx supports EIP-155 replay protection\n     * See: [155](https://eips.ethereum.org/EIPS/eip-155) Replay Attack Protection EIP\n     */\n    Capability[Capability[\"EIP155ReplayProtection\"] = 155] = \"EIP155ReplayProtection\";\n    /**\n     * Tx supports EIP-1559 gas fee market mechansim\n     * See: [1559](https://eips.ethereum.org/EIPS/eip-1559) Fee Market EIP\n     */\n    Capability[Capability[\"EIP1559FeeMarket\"] = 1559] = \"EIP1559FeeMarket\";\n    /**\n     * Tx is a typed transaction as defined in EIP-2718\n     * See: [2718](https://eips.ethereum.org/EIPS/eip-2718) Transaction Type EIP\n     */\n    Capability[Capability[\"EIP2718TypedTransaction\"] = 2718] = \"EIP2718TypedTransaction\";\n    /**\n     * Tx supports access list generation as defined in EIP-2930\n     * See: [2930](https://eips.ethereum.org/EIPS/eip-2930) Access Lists EIP\n     */\n    Capability[Capability[\"EIP2930AccessLists\"] = 2930] = \"EIP2930AccessLists\";\n})(Capability = exports.Capability || (exports.Capability = {}));\nfunction isAccessListBuffer(input) {\n    if (input.length === 0) {\n        return true;\n    }\n    const firstItem = input[0];\n    if (Array.isArray(firstItem)) {\n        return true;\n    }\n    return false;\n}\nexports.isAccessListBuffer = isAccessListBuffer;\nfunction isAccessList(input) {\n    return !isAccessListBuffer(input); // This is exactly the same method, except the output is negated.\n}\nexports.isAccessList = isAccessList;\n/**\n * A const defining secp256k1n/2\n */\nexports.N_DIV_2 = new ethereumjs_util_1.BN('7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0', 16);\n//# sourceMappingURL=types.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvdHlwZXMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsZUFBZSxHQUFHLG9CQUFvQixHQUFHLDBCQUEwQixHQUFHLGtCQUFrQjtBQUN4RiwwQkFBMEIsbUJBQU8sQ0FBQyxvSEFBaUI7QUFDbkQ7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0Msa0JBQWtCLEtBQUs7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSx1Q0FBdUM7QUFDdkM7QUFDQSxvQkFBb0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8va2lja3N0YXJ0Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL0BldGhlcmV1bWpzK3R4QDMuMy4yL25vZGVfbW9kdWxlcy9AZXRoZXJldW1qcy90eC9kaXN0L3R5cGVzLmpzPzZhNWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk5fRElWXzIgPSBleHBvcnRzLmlzQWNjZXNzTGlzdCA9IGV4cG9ydHMuaXNBY2Nlc3NMaXN0QnVmZmVyID0gZXhwb3J0cy5DYXBhYmlsaXR5ID0gdm9pZCAwO1xuY29uc3QgZXRoZXJldW1qc191dGlsXzEgPSByZXF1aXJlKFwiZXRoZXJldW1qcy11dGlsXCIpO1xuLyoqXG4gKiBDYW4gYmUgdXNlZCBpbiBjb25qdW5jdGlvbiB3aXRoIHtAbGluayBUcmFuc2FjdGlvbi5zdXBwb3J0c31cbiAqIHRvIHF1ZXJ5IG9uIHR4IGNhcGFiaWxpdGllc1xuICovXG52YXIgQ2FwYWJpbGl0eTtcbihmdW5jdGlvbiAoQ2FwYWJpbGl0eSkge1xuICAgIC8qKlxuICAgICAqIFR4IHN1cHBvcnRzIEVJUC0xNTUgcmVwbGF5IHByb3RlY3Rpb25cbiAgICAgKiBTZWU6IFsxNTVdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtMTU1KSBSZXBsYXkgQXR0YWNrIFByb3RlY3Rpb24gRUlQXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQMTU1UmVwbGF5UHJvdGVjdGlvblwiXSA9IDE1NV0gPSBcIkVJUDE1NVJlcGxheVByb3RlY3Rpb25cIjtcbiAgICAvKipcbiAgICAgKiBUeCBzdXBwb3J0cyBFSVAtMTU1OSBnYXMgZmVlIG1hcmtldCBtZWNoYW5zaW1cbiAgICAgKiBTZWU6IFsxNTU5XShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTE1NTkpIEZlZSBNYXJrZXQgRUlQXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQMTU1OUZlZU1hcmtldFwiXSA9IDE1NTldID0gXCJFSVAxNTU5RmVlTWFya2V0XCI7XG4gICAgLyoqXG4gICAgICogVHggaXMgYSB0eXBlZCB0cmFuc2FjdGlvbiBhcyBkZWZpbmVkIGluIEVJUC0yNzE4XG4gICAgICogU2VlOiBbMjcxOF0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0yNzE4KSBUcmFuc2FjdGlvbiBUeXBlIEVJUFxuICAgICAqL1xuICAgIENhcGFiaWxpdHlbQ2FwYWJpbGl0eVtcIkVJUDI3MThUeXBlZFRyYW5zYWN0aW9uXCJdID0gMjcxOF0gPSBcIkVJUDI3MThUeXBlZFRyYW5zYWN0aW9uXCI7XG4gICAgLyoqXG4gICAgICogVHggc3VwcG9ydHMgYWNjZXNzIGxpc3QgZ2VuZXJhdGlvbiBhcyBkZWZpbmVkIGluIEVJUC0yOTMwXG4gICAgICogU2VlOiBbMjkzMF0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC0yOTMwKSBBY2Nlc3MgTGlzdHMgRUlQXG4gICAgICovXG4gICAgQ2FwYWJpbGl0eVtDYXBhYmlsaXR5W1wiRUlQMjkzMEFjY2Vzc0xpc3RzXCJdID0gMjkzMF0gPSBcIkVJUDI5MzBBY2Nlc3NMaXN0c1wiO1xufSkoQ2FwYWJpbGl0eSA9IGV4cG9ydHMuQ2FwYWJpbGl0eSB8fCAoZXhwb3J0cy5DYXBhYmlsaXR5ID0ge30pKTtcbmZ1bmN0aW9uIGlzQWNjZXNzTGlzdEJ1ZmZlcihpbnB1dCkge1xuICAgIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGZpcnN0SXRlbSA9IGlucHV0WzBdO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpcnN0SXRlbSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNBY2Nlc3NMaXN0QnVmZmVyID0gaXNBY2Nlc3NMaXN0QnVmZmVyO1xuZnVuY3Rpb24gaXNBY2Nlc3NMaXN0KGlucHV0KSB7XG4gICAgcmV0dXJuICFpc0FjY2Vzc0xpc3RCdWZmZXIoaW5wdXQpOyAvLyBUaGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgbWV0aG9kLCBleGNlcHQgdGhlIG91dHB1dCBpcyBuZWdhdGVkLlxufVxuZXhwb3J0cy5pc0FjY2Vzc0xpc3QgPSBpc0FjY2Vzc0xpc3Q7XG4vKipcbiAqIEEgY29uc3QgZGVmaW5pbmcgc2VjcDI1Nmsxbi8yXG4gKi9cbmV4cG9ydHMuTl9ESVZfMiA9IG5ldyBldGhlcmV1bWpzX3V0aWxfMS5CTignN2ZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmY1ZDU3NmU3MzU3YTQ1MDFkZGZlOTJmNDY2ODFiMjBhMCcsIDE2KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXR5cGVzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/util.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/util.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.AccessLists = void 0;\nconst ethereumjs_util_1 = __webpack_require__(/*! ethereumjs-util */ \"(ssr)/./node_modules/.pnpm/ethereumjs-util@7.1.5/node_modules/ethereumjs-util/dist/index.js\");\nconst types_1 = __webpack_require__(/*! ./types */ \"(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/types.js\");\nclass AccessLists {\n    static getAccessListData(accessList) {\n        let AccessListJSON;\n        let bufferAccessList;\n        if (accessList && (0, types_1.isAccessList)(accessList)) {\n            AccessListJSON = accessList;\n            const newAccessList = [];\n            for (let i = 0; i < accessList.length; i++) {\n                const item = accessList[i];\n                const addressBuffer = (0, ethereumjs_util_1.toBuffer)(item.address);\n                const storageItems = [];\n                for (let index = 0; index < item.storageKeys.length; index++) {\n                    storageItems.push((0, ethereumjs_util_1.toBuffer)(item.storageKeys[index]));\n                }\n                newAccessList.push([addressBuffer, storageItems]);\n            }\n            bufferAccessList = newAccessList;\n        }\n        else {\n            bufferAccessList = accessList !== null && accessList !== void 0 ? accessList : [];\n            // build the JSON\n            const json = [];\n            for (let i = 0; i < bufferAccessList.length; i++) {\n                const data = bufferAccessList[i];\n                const address = (0, ethereumjs_util_1.bufferToHex)(data[0]);\n                const storageKeys = [];\n                for (let item = 0; item < data[1].length; item++) {\n                    storageKeys.push((0, ethereumjs_util_1.bufferToHex)(data[1][item]));\n                }\n                const jsonItem = {\n                    address,\n                    storageKeys,\n                };\n                json.push(jsonItem);\n            }\n            AccessListJSON = json;\n        }\n        return {\n            AccessListJSON,\n            accessList: bufferAccessList,\n        };\n    }\n    static verifyAccessList(accessList) {\n        for (let key = 0; key < accessList.length; key++) {\n            const accessListItem = accessList[key];\n            const address = accessListItem[0];\n            const storageSlots = accessListItem[1];\n            if (accessListItem[2] !== undefined) {\n                throw new Error('Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.');\n            }\n            if (address.length != 20) {\n                throw new Error('Invalid EIP-2930 transaction: address length should be 20 bytes');\n            }\n            for (let storageSlot = 0; storageSlot < storageSlots.length; storageSlot++) {\n                if (storageSlots[storageSlot].length != 32) {\n                    throw new Error('Invalid EIP-2930 transaction: storage slot length should be 32 bytes');\n                }\n            }\n        }\n    }\n    static getAccessListJSON(accessList) {\n        const accessListJSON = [];\n        for (let index = 0; index < accessList.length; index++) {\n            const item = accessList[index];\n            const JSONItem = {\n                address: '0x' + (0, ethereumjs_util_1.setLengthLeft)(item[0], 20).toString('hex'),\n                storageKeys: [],\n            };\n            const storageSlots = item[1];\n            for (let slot = 0; slot < storageSlots.length; slot++) {\n                const storageSlot = storageSlots[slot];\n                JSONItem.storageKeys.push('0x' + (0, ethereumjs_util_1.setLengthLeft)(storageSlot, 32).toString('hex'));\n            }\n            accessListJSON.push(JSONItem);\n        }\n        return accessListJSON;\n    }\n    static getDataFeeEIP2930(accessList, common) {\n        const accessListStorageKeyCost = common.param('gasPrices', 'accessListStorageKeyCost');\n        const accessListAddressCost = common.param('gasPrices', 'accessListAddressCost');\n        let slots = 0;\n        for (let index = 0; index < accessList.length; index++) {\n            const item = accessList[index];\n            const storageSlots = item[1];\n            slots += storageSlots.length;\n        }\n        const addresses = accessList.length;\n        return addresses * accessListAddressCost + slots * accessListStorageKeyCost;\n    }\n}\nexports.AccessLists = AccessLists;\n//# sourceMappingURL=util.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGV0aGVyZXVtanMrdHhAMy4zLjIvbm9kZV9tb2R1bGVzL0BldGhlcmV1bWpzL3R4L2Rpc3QvdXRpbC5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxtQkFBbUI7QUFDbkIsMEJBQTBCLG1CQUFPLENBQUMsb0hBQWlCO0FBQ25ELGdCQUFnQixtQkFBTyxDQUFDLDBHQUFTO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsaUNBQWlDO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZCQUE2QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsdUJBQXVCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsbUNBQW1DO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkJBQTJCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw0QkFBNEI7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwyQkFBMkI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2tpY2tzdGFydC8uL25vZGVfbW9kdWxlcy8ucG5wbS9AZXRoZXJldW1qcyt0eEAzLjMuMi9ub2RlX21vZHVsZXMvQGV0aGVyZXVtanMvdHgvZGlzdC91dGlsLmpzP2VmZGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkFjY2Vzc0xpc3RzID0gdm9pZCAwO1xuY29uc3QgZXRoZXJldW1qc191dGlsXzEgPSByZXF1aXJlKFwiZXRoZXJldW1qcy11dGlsXCIpO1xuY29uc3QgdHlwZXNfMSA9IHJlcXVpcmUoXCIuL3R5cGVzXCIpO1xuY2xhc3MgQWNjZXNzTGlzdHMge1xuICAgIHN0YXRpYyBnZXRBY2Nlc3NMaXN0RGF0YShhY2Nlc3NMaXN0KSB7XG4gICAgICAgIGxldCBBY2Nlc3NMaXN0SlNPTjtcbiAgICAgICAgbGV0IGJ1ZmZlckFjY2Vzc0xpc3Q7XG4gICAgICAgIGlmIChhY2Nlc3NMaXN0ICYmICgwLCB0eXBlc18xLmlzQWNjZXNzTGlzdCkoYWNjZXNzTGlzdCkpIHtcbiAgICAgICAgICAgIEFjY2Vzc0xpc3RKU09OID0gYWNjZXNzTGlzdDtcbiAgICAgICAgICAgIGNvbnN0IG5ld0FjY2Vzc0xpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWNjZXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhY2Nlc3NMaXN0W2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NCdWZmZXIgPSAoMCwgZXRoZXJldW1qc191dGlsXzEudG9CdWZmZXIpKGl0ZW0uYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RvcmFnZUl0ZW1zID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGl0ZW0uc3RvcmFnZUtleXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VJdGVtcy5wdXNoKCgwLCBldGhlcmV1bWpzX3V0aWxfMS50b0J1ZmZlcikoaXRlbS5zdG9yYWdlS2V5c1tpbmRleF0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3QWNjZXNzTGlzdC5wdXNoKFthZGRyZXNzQnVmZmVyLCBzdG9yYWdlSXRlbXNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJ1ZmZlckFjY2Vzc0xpc3QgPSBuZXdBY2Nlc3NMaXN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVmZmVyQWNjZXNzTGlzdCA9IGFjY2Vzc0xpc3QgIT09IG51bGwgJiYgYWNjZXNzTGlzdCAhPT0gdm9pZCAwID8gYWNjZXNzTGlzdCA6IFtdO1xuICAgICAgICAgICAgLy8gYnVpbGQgdGhlIEpTT05cbiAgICAgICAgICAgIGNvbnN0IGpzb24gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyQWNjZXNzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBidWZmZXJBY2Nlc3NMaXN0W2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSAoMCwgZXRoZXJldW1qc191dGlsXzEuYnVmZmVyVG9IZXgpKGRhdGFbMF0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VLZXlzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaXRlbSA9IDA7IGl0ZW0gPCBkYXRhWzFdLmxlbmd0aDsgaXRlbSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2VLZXlzLnB1c2goKDAsIGV0aGVyZXVtanNfdXRpbF8xLmJ1ZmZlclRvSGV4KShkYXRhWzFdW2l0ZW1dKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGpzb25JdGVtID0ge1xuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzLFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlS2V5cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGpzb24ucHVzaChqc29uSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBBY2Nlc3NMaXN0SlNPTiA9IGpzb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIEFjY2Vzc0xpc3RKU09OLFxuICAgICAgICAgICAgYWNjZXNzTGlzdDogYnVmZmVyQWNjZXNzTGlzdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIHZlcmlmeUFjY2Vzc0xpc3QoYWNjZXNzTGlzdCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgPSAwOyBrZXkgPCBhY2Nlc3NMaXN0Lmxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGFjY2Vzc0xpc3RJdGVtID0gYWNjZXNzTGlzdFtrZXldO1xuICAgICAgICAgICAgY29uc3QgYWRkcmVzcyA9IGFjY2Vzc0xpc3RJdGVtWzBdO1xuICAgICAgICAgICAgY29uc3Qgc3RvcmFnZVNsb3RzID0gYWNjZXNzTGlzdEl0ZW1bMV07XG4gICAgICAgICAgICBpZiAoYWNjZXNzTGlzdEl0ZW1bMl0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIGxpc3QgaXRlbSBjYW5ub3QgaGF2ZSAzIGVsZW1lbnRzLiBJdCBjYW4gb25seSBoYXZlIGFuIGFkZHJlc3MsIGFuZCBhbiBhcnJheSBvZiBzdG9yYWdlIHNsb3RzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFkZHJlc3MubGVuZ3RoICE9IDIwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEVJUC0yOTMwIHRyYW5zYWN0aW9uOiBhZGRyZXNzIGxlbmd0aCBzaG91bGQgYmUgMjAgYnl0ZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IHN0b3JhZ2VTbG90ID0gMDsgc3RvcmFnZVNsb3QgPCBzdG9yYWdlU2xvdHMubGVuZ3RoOyBzdG9yYWdlU2xvdCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN0b3JhZ2VTbG90c1tzdG9yYWdlU2xvdF0ubGVuZ3RoICE9IDMyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBFSVAtMjkzMCB0cmFuc2FjdGlvbjogc3RvcmFnZSBzbG90IGxlbmd0aCBzaG91bGQgYmUgMzIgYnl0ZXMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIGdldEFjY2Vzc0xpc3RKU09OKGFjY2Vzc0xpc3QpIHtcbiAgICAgICAgY29uc3QgYWNjZXNzTGlzdEpTT04gPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFjY2Vzc0xpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gYWNjZXNzTGlzdFtpbmRleF07XG4gICAgICAgICAgICBjb25zdCBKU09OSXRlbSA9IHtcbiAgICAgICAgICAgICAgICBhZGRyZXNzOiAnMHgnICsgKDAsIGV0aGVyZXVtanNfdXRpbF8xLnNldExlbmd0aExlZnQpKGl0ZW1bMF0sIDIwKS50b1N0cmluZygnaGV4JyksXG4gICAgICAgICAgICAgICAgc3RvcmFnZUtleXM6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VTbG90cyA9IGl0ZW1bMV07XG4gICAgICAgICAgICBmb3IgKGxldCBzbG90ID0gMDsgc2xvdCA8IHN0b3JhZ2VTbG90cy5sZW5ndGg7IHNsb3QrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VTbG90ID0gc3RvcmFnZVNsb3RzW3Nsb3RdO1xuICAgICAgICAgICAgICAgIEpTT05JdGVtLnN0b3JhZ2VLZXlzLnB1c2goJzB4JyArICgwLCBldGhlcmV1bWpzX3V0aWxfMS5zZXRMZW5ndGhMZWZ0KShzdG9yYWdlU2xvdCwgMzIpLnRvU3RyaW5nKCdoZXgnKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhY2Nlc3NMaXN0SlNPTi5wdXNoKEpTT05JdGVtKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjZXNzTGlzdEpTT047XG4gICAgfVxuICAgIHN0YXRpYyBnZXREYXRhRmVlRUlQMjkzMChhY2Nlc3NMaXN0LCBjb21tb24pIHtcbiAgICAgICAgY29uc3QgYWNjZXNzTGlzdFN0b3JhZ2VLZXlDb3N0ID0gY29tbW9uLnBhcmFtKCdnYXNQcmljZXMnLCAnYWNjZXNzTGlzdFN0b3JhZ2VLZXlDb3N0Jyk7XG4gICAgICAgIGNvbnN0IGFjY2Vzc0xpc3RBZGRyZXNzQ29zdCA9IGNvbW1vbi5wYXJhbSgnZ2FzUHJpY2VzJywgJ2FjY2Vzc0xpc3RBZGRyZXNzQ29zdCcpO1xuICAgICAgICBsZXQgc2xvdHMgPSAwO1xuICAgICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgYWNjZXNzTGlzdC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBhY2Nlc3NMaXN0W2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHN0b3JhZ2VTbG90cyA9IGl0ZW1bMV07XG4gICAgICAgICAgICBzbG90cyArPSBzdG9yYWdlU2xvdHMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFkZHJlc3NlcyA9IGFjY2Vzc0xpc3QubGVuZ3RoO1xuICAgICAgICByZXR1cm4gYWRkcmVzc2VzICogYWNjZXNzTGlzdEFkZHJlc3NDb3N0ICsgc2xvdHMgKiBhY2Nlc3NMaXN0U3RvcmFnZUtleUNvc3Q7XG4gICAgfVxufVxuZXhwb3J0cy5BY2Nlc3NMaXN0cyA9IEFjY2Vzc0xpc3RzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@ethereumjs+tx@3.3.2/node_modules/@ethereumjs/tx/dist/util.js\n");

/***/ })

};
;